<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Building Your First AI Agent: A Practical Guide for Everyday Professionals | Lee Foropoulos</title>
  <meta name="description" content="Learn how to identify repetitive tasks perfect for AI agents and build your first one with free tools. The future of work is here, and you're in the driver's seat.">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Building Your First AI Agent: A Practical Guide for Everyday Professionals">
  <meta property="og:description" content="Learn how to identify repetitive tasks perfect for AI agents and build your first one with free tools.">
  <meta property="og:url" content="https://foropoulosnow.com/blog/posts/building-your-first-ai-agent.html">
  <meta property="og:image" content="https://res.cloudinary.com/foropoulosnow/image/fetch/w_1200,h_630,c_fill,q_auto,f_auto/https%3A%2F%2Fimages.unsplash.com%2Fphoto-1485827404703-89b55fcc595e">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="article:author" content="Lee Foropoulos">
  <meta property="article:published_time" content="2026-01-22">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@thesecretchief">
  <meta name="twitter:creator" content="@thesecretchief">
  <meta name="twitter:title" content="Building Your First AI Agent: A Practical Guide for Everyday Professionals">
  <meta name="twitter:description" content="Learn how to identify repetitive tasks perfect for AI agents and build your first one with free tools.">
  <meta name="twitter:image" content="https://res.cloudinary.com/foropoulosnow/image/fetch/w_1200,h_630,c_fill,q_auto,f_auto/https%3A%2F%2Fimages.unsplash.com%2Fphoto-1485827404703-89b55fcc595e">
  <meta name="twitter:image:alt" content="AI robot representing artificial intelligence agents">
  <meta name="share:hook" content="You don't need to be a programmer to build an AI agent. Here's exactly how I help my clients identify tasks to automate and create their first agent in under an hour:">
  <meta name="ambient:music" content="cinematic-inspiring">
  <meta name="facebook-domain-verification" content="vx40czm6ccxtpl4crzqbiso70hmjoi" />

  <link rel="icon" type="image/svg+xml" href="../../favicon.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            navy: { 900: '#0f172a', 800: '#1e293b', 700: '#334155', 600: '#475569' },
            gold: { 700: '#b45309', 600: '#d97706', 500: '#f59e0b', 400: '#fbbf24', 300: '#fcd34d', 200: '#fde68a', 100: '#fef3c7' }
          },
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
          typography: {
            DEFAULT: {
              css: {
                maxWidth: 'none',
                color: 'inherit',
                a: { color: '#f59e0b', textDecoration: 'underline', '&:hover': { color: '#fbbf24' } },
                h2: { color: 'inherit', fontWeight: '700' },
                h3: { color: 'inherit', fontWeight: '600' },
                strong: { color: 'inherit' },
                code: { backgroundColor: 'rgba(0,0,0,0.1)', padding: '2px 6px', borderRadius: '4px' }
              }
            }
          }
        }
      }
    }
  </script>
  <script>
    function getCookie(name) {
      const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
      return match ? match[2] : null;
    }
    const darkPref = getCookie('darkMode');
    if (darkPref === 'true' || (!darkPref && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    .prose { line-height: 1.8; }
    .prose h2 { margin-top: 2.5rem; margin-bottom: 1rem; font-size: 1.75rem; }
    .prose h3 { margin-top: 2rem; margin-bottom: 0.75rem; font-size: 1.25rem; }
    .prose p { margin-bottom: 1.5rem; }
    .prose ul, .prose ol { margin-bottom: 1.5rem; padding-left: 1.5rem; }
    .prose li { margin-bottom: 0.5rem; }
    .prose blockquote { border-left: 4px solid #f59e0b; padding-left: 1.5rem; margin: 2rem 0; font-style: italic; }
    .prose code { background: rgba(0,0,0,0.1); padding: 2px 6px; border-radius: 4px; font-size: 0.9em; }
    .dark .prose code { background: rgba(255,255,255,0.1); }
    .prose a { color: #d97706; text-decoration: underline; text-underline-offset: 2px; font-weight: 500; transition: color 0.2s ease; }
    .prose a:hover { color: #f59e0b; }
    .dark .prose a { color: #fbbf24; }
    .dark .prose a:hover { color: #fcd34d; }
    .dark-mode-toggle { transition: transform 0.3s ease; }
    .dark-mode-toggle:hover { transform: rotate(15deg); }
    #back-to-top { opacity: 0; visibility: hidden; transition: all 0.3s ease; }
    #back-to-top.visible { opacity: 1; visibility: visible; }
    .content-image { border-radius: 0.75rem; margin: 2rem 0; box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
    .share-btn { position: relative; display: inline-flex; align-items: center; justify-content: center; width: 2.75rem; height: 2.75rem; border-radius: 50%; transition: all 0.2s ease; }
    .share-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .share-btn svg { width: 1.25rem; height: 1.25rem; }
    .share-btn[data-tooltip]:hover::after { content: attr(data-tooltip); position: absolute; bottom: -2rem; left: 50%; transform: translateX(-50%); background: #0f172a; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; white-space: nowrap; z-index: 10; }
    .dark .share-btn[data-tooltip]:hover::after { background: #f59e0b; color: #0f172a; }
    .copy-toast { position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%) translateY(100px); background: #0f172a; color: white; padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 500; opacity: 0; transition: all 0.3s ease; z-index: 100; }
    .copy-toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
  </style>
  <!-- Analytics: Google Analytics 4 + Microsoft Clarity -->
  <script src="/analytics.js" defer></script>
</head>
<body class="bg-white dark:bg-navy-900 text-gray-800 dark:text-gray-200 transition-colors duration-300">

  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-navy-900/95 backdrop-blur-md border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <a href="../" class="text-white font-bold text-xl tracking-tight">
          Foropoulos<span class="text-gold-400">Now</span><span class="text-gray-400 text-sm">.com</span>
        </a>
        <div class="flex items-center gap-4">
          <a href="../" class="text-gray-300 hover:text-gold-400 transition text-sm font-medium">&larr; All Posts</a>
          <button id="dark-mode-toggle" class="dark-mode-toggle text-gray-300 hover:text-gold-400 p-2 rounded-lg hover:bg-white/10 transition" aria-label="Toggle dark mode">
            <svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
            <svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Image -->
  <div class="relative h-64 sm:h-80 lg:h-96 overflow-hidden">
    <img
      src="https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=1600&h=900&fit=crop"
      alt="AI robot representing artificial intelligence agents"
      class="w-full h-full object-cover"
    >
    <div class="absolute inset-0 bg-gradient-to-t from-navy-900 via-navy-900/70 to-transparent"></div>
  </div>

  <!-- Article Header -->
  <header class="bg-gradient-to-br from-navy-900 to-navy-800 -mt-32 relative z-10 pt-8 pb-12">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center gap-3 mb-6">
        <span class="bg-blue-500/20 text-blue-400 text-xs font-semibold px-3 py-1 rounded-full">Technology</span>
        <span class="text-gray-400 text-sm">January 22, 2026</span>
        <span class="text-gray-400 text-sm">&#8226; 10 min read</span>
      </div>
      <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white leading-tight mb-6">
        Building Your First AI Agent: A Practical Guide for Everyday Professionals
      </h1>
      <p class="text-xl text-gray-300 leading-relaxed">
        Learn how to identify repetitive tasks perfect for AI agents and build your first one with free tools. The future of work is here, and you're in the driver's seat.
      </p>

      <!-- Quick Share Buttons -->
      <div class="flex items-center gap-2 mt-6">
        <span class="text-gray-400 text-sm mr-1">Share:</span>
        <button onclick="copyHookAndShare('twitter')" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition" aria-label="Share on X">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </button>
        <button onclick="copyHookAndShare('linkedin')" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition" aria-label="Share on LinkedIn">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        </button>
        <button onclick="copyHookAndShare('facebook')" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition" aria-label="Share on Facebook">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
        </button>
        <button onclick="copyShareText()" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition" aria-label="Copy Share Text">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"/></svg>
        </button>
        <button onclick="copyLink()" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition" aria-label="Copy Link">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
        </button>
      </div>

      <!-- Author -->
      <div class="flex items-center gap-4 mt-8 pt-8 border-t border-white/10">
        <img src="../../headshot.png" alt="Lee Foropoulos" class="w-12 h-12 rounded-full object-cover" onerror="this.src='https://via.placeholder.com/48x48.png?text=LF';">
        <div>
          <p class="text-white font-semibold">Lee Foropoulos</p>
          <p class="text-gray-400 text-sm">Business Development Lead at Lookatmedia | Fractional Executive</p>
        </div>
      </div>
    </div>
  </header>

  <!-- Article Content -->
  <article class="py-12">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="prose prose-lg dark:prose-invert">

        <p>
          I was talking to one of my cofounders earlier this week about a recent project involving legal research. We got to speculating about how straightforward it would be to build an agent that handles the kind of document review and case law research that paralegals spend hours on every day. Not to replace anyone, but to let attorneys focus on what they're actually good at: strategy, client relationships, and courtroom work.
        </p>

        <p>
          That conversation stuck with me because it captures exactly where we are with AI right now. The tedious, repetitive knowledge work that eats up professional hours? Agents can handle most of it. And you don't need to write a single line of code to make it happen.
        </p>

        <h2>What Exactly Is an AI Agent?</h2>

        <p>
          Think of an AI agent as a digital worker that never sleeps. It's software that can read information, make decisions based on rules you set, and take actions on your behalf. Unlike traditional automation that follows rigid scripts, AI agents can understand context and handle situations they weren't explicitly programmed for.
        </p>

        <!-- Inline Image -->
        <figure class="my-10">
          <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=450&fit=crop" alt="AI neural network visualization showing connected nodes" class="content-image w-full">
          <figcaption class="text-center text-sm text-gray-500 dark:text-gray-400 mt-3">AI agents tap into neural networks trained on billions of documents and conversations</figcaption>
        </figure>

        <p>
          Here's what makes them powerful. These agents are built on large language models trained on billions of documents, conversations, and examples. When your agent encounters a new email, it's drawing on patterns learned from countless similar situations. It's like having an assistant who has read every business communication ever written and remembers all of it perfectly.
        </p>

        <blockquote>
          "An AI agent isn't just faster than a human at repetitive tasks. It's drawing on more accumulated knowledge than any single person could absorb in multiple lifetimes."
        </blockquote>

        <p>
          The best part? Agents work at machine speed. A task that takes you 30 seconds takes an agent milliseconds. Multiply that across hundreds of daily tasks, and you're looking at serious time savings.
        </p>

        <h2>Spotting Tasks That Agents Can Handle</h2>

        <p>
          Not every task is right for an AI agent. Here's how to identify the perfect candidates in your own work.
        </p>

        <h3>The "Rules in Your Head" Test</h3>

        <p>
          Pay attention to tasks where you follow mental rules without thinking. When you see a certain type of email, you forward it to a specific person. When a customer asks about pricing, you send the same PDF. When an invoice arrives, you file it in a particular folder. These mental rules are gold for AI agents.
        </p>

        <!-- Inline Image -->
        <figure class="my-10">
          <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&h=450&fit=crop" alt="Person working at desk with laptop showing workflow" class="content-image w-full">
          <figcaption class="text-center text-sm text-gray-500 dark:text-gray-400 mt-3">Most knowledge workers spend hours on tasks that follow predictable patterns</figcaption>
        </figure>

        <h3>The Volume Test</h3>

        <p>
          High-volume, low-complexity tasks are perfect. Data entry from forms, categorizing support tickets, scheduling confirmations, copying information between systems. If you do something more than 10 times a day, it's probably worth automating.
        </p>

        <h3>The "I Wish I Had Time" Test</h3>

        <p>
          Think about tasks you keep putting off because they're tedious. Following up with leads after a week of no response. Cleaning up your contact database. Generating weekly reports from spreadsheets. Agents don't procrastinate.
        </p>

        <h3>Common Tasks Perfect for Your First Agent</h3>

        <ul>
          <li><strong>Email triage:</strong> Sorting, categorizing, and routing incoming messages</li>
          <li><strong>Meeting prep:</strong> Gathering background info on attendees before calls</li>
          <li><strong>Data extraction:</strong> Pulling specific information from documents or websites</li>
          <li><strong>Response drafting:</strong> Creating first drafts of routine replies</li>
          <li><strong>Schedule coordination:</strong> Managing back-and-forth for meeting times</li>
          <li><strong>Report generation:</strong> Compiling regular summaries from data sources</li>
        </ul>

        <!-- Inline Image -->
        <figure class="my-10">
          <img src="https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=450&fit=crop" alt="Team collaborating around a computer discussing workflow" class="content-image w-full">
          <figcaption class="text-center text-sm text-gray-500 dark:text-gray-400 mt-3">The best agent tasks are ones you can explain clearly to a new team member</figcaption>
        </figure>

        <h2>Build Your First Agent in Under an Hour</h2>

        <p>
          Here's a step-by-step guide using completely free tools. We're going to create an email assistant that monitors your inbox and drafts responses to common questions.
        </p>

        <h3>Step 1: Sign Up for Make.com (5 minutes)</h3>

        <p>
          <a href="https://www.make.com/" target="_blank" rel="noopener">Make.com</a> (formerly Integromat) offers a free tier that's perfect for getting started. Create an account and you'll have access to their visual automation builder. No coding required.
        </p>

        <h3>Step 2: Connect Your Email (3 minutes)</h3>

        <p>
          In Make.com, create a new scenario and add an email trigger. Connect your Gmail or Outlook account. The platform will ask for permission to read your incoming emails. This is secure and you can revoke access anytime.
        </p>

        <h3>Step 3: Add AI Processing (10 minutes)</h3>

        <p>
          Add a ChatGPT module to your scenario. You'll need a free <a href="https://platform.openai.com/" target="_blank" rel="noopener">OpenAI account</a> with API access. Here's where the magic happens. Configure the AI with a prompt like this:
        </p>

        <p>
          "You are an email assistant for [your name]. When you receive an email, categorize it as: URGENT, NEEDS_RESPONSE, INFORMATIONAL, or SPAM. For NEEDS_RESPONSE emails about [common topic], draft a brief, friendly response. Return your analysis in JSON format."
        </p>

        <!-- Inline Image -->
        <figure class="my-10">
          <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=450&fit=crop" alt="Computer screen showing automation workflow diagram" class="content-image w-full">
          <figcaption class="text-center text-sm text-gray-500 dark:text-gray-400 mt-3">Visual automation builders let you connect services without writing code</figcaption>
        </figure>

        <h3>Step 4: Set Up Actions (15 minutes)</h3>

        <p>
          Based on the AI's categorization, add different actions. For URGENT emails, send yourself a Slack notification or text message. For NEEDS_RESPONSE emails, save the draft to a Google Doc for your review. For SPAM, automatically archive or delete.
        </p>

        <h3>Step 5: Test and Refine (20 minutes)</h3>

        <p>
          Send yourself a few test emails matching different scenarios. Watch how your agent processes them. Adjust the AI prompt based on results. This refinement is where you'll spend most of your time, but each tweak makes your agent smarter.
        </p>

        <h3>Alternative Free Tools</h3>

        <p>
          Don't like Make.com? Here are other free options that work similarly:
        </p>

        <ul>
          <li><strong><a href="https://zapier.com/" target="_blank" rel="noopener">Zapier</a>:</strong> The most popular automation platform, generous free tier</li>
          <li><strong><a href="https://n8n.io/" target="_blank" rel="noopener">n8n</a>:</strong> Open source and self-hostable for maximum control</li>
          <li><strong><a href="https://powerautomate.microsoft.com/" target="_blank" rel="noopener">Microsoft Power Automate</a>:</strong> Free with Microsoft 365 subscriptions</li>
          <li><strong><a href="https://script.google.com/" target="_blank" rel="noopener">Google Apps Script</a>:</strong> Free and powerful for Google Workspace users</li>
        </ul>

        <h2>The Future Is Already Here</h2>

        <p>
          I talk to business owners every week who worry they're falling behind on AI. They see headlines about billion-dollar companies deploying armies of AI agents and feel overwhelmed. Here's what I tell them: you don't need to boil the ocean.
        </p>

        <!-- Inline Image -->
        <figure class="my-10">
          <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&h=450&fit=crop" alt="Person using futuristic holographic interface representing AI technology" class="content-image w-full">
          <figcaption class="text-center text-sm text-gray-500 dark:text-gray-400 mt-3">You don't need enterprise budgets to start using AI agents effectively</figcaption>
        </figure>

        <p>
          Start with one agent handling one task. Get comfortable with how it works. Then add another. Within a few months, you'll have a small team of digital workers handling the repetitive stuff while you focus on work that actually requires your brain, your creativity, and your relationships.
        </p>

        <p>
          The professionals who thrive in the next decade won't be the ones who fear AI. They'll be the ones who learned to work alongside it early. You're reading this article, which means you're already thinking about it. You're already ahead.
        </p>

        <blockquote>
          "The question isn't whether AI will change your job. It's whether you'll be the one directing that change or reacting to it."
        </blockquote>

        <h2>Ready to Go Deeper?</h2>

        <p>
          Building a single agent is one thing. Developing a comprehensive automation strategy for your business is another. At <a href="../../ventures/greek-fire-services.html">Greek-Fire Services</a>, we specialize in helping companies identify their highest-impact automation opportunities and build roadmaps to get there.
        </p>

        <div class="bg-gold-50 dark:bg-gold-500/10 rounded-xl p-6 my-8 border border-gold-200 dark:border-gold-500/30">
          <p class="font-semibold text-navy-900 dark:text-white mb-2">Want Expert Guidance?</p>
          <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">We'll help you identify the tasks draining your team's time, create a prioritized automation roadmap, and train your staff to manage AI agents effectively. The future is coming faster than most people realize. Let us help you stay ahead of it.</p>
          <a href="../../ventures/greek-fire-services.html" class="inline-block bg-gold-500 hover:bg-gold-600 text-white font-semibold px-6 py-2 rounded-full transition">Learn About Greek-Fire Services &rarr;</a>
        </div>

        <hr class="my-12 border-gray-200 dark:border-gray-700">

        <p>
          <strong>Your move:</strong> This week, keep a notepad handy. Every time you catch yourself doing a repetitive task, write it down. By Friday, you'll have a list of agent candidates. Pick the easiest one and build your first automation this weekend. The hardest part isn't the technology. It's getting started.
        </p>

      </div>

      <!-- Share Section -->
      <div class="border-t border-gray-200 dark:border-white/10 pt-8 mt-10">
        <h3 class="text-lg font-bold text-navy-900 dark:text-white mb-4">Share this article</h3>
        <div class="flex flex-wrap gap-3">
          <button onclick="copyHookAndShare('twitter')" class="share-btn bg-black hover:bg-gray-800 text-white" data-tooltip="Share on X" aria-label="Share on X">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </button>
          <button onclick="copyHookAndShare('linkedin')" class="share-btn bg-[#0A66C2] hover:bg-[#094c8f] text-white" data-tooltip="Share on LinkedIn" aria-label="Share on LinkedIn">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          </button>
          <button onclick="copyHookAndShare('facebook')" class="share-btn bg-[#1877F2] hover:bg-[#1464c0] text-white" data-tooltip="Share on Facebook" aria-label="Share on Facebook">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
          </button>
          <button onclick="copyShareText()" class="share-btn bg-gold-500 hover:bg-gold-400 text-navy-900" data-tooltip="Copy Share Text" aria-label="Copy Share Text">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"/></svg>
          </button>
          <button onclick="copyLink()" class="share-btn bg-gray-600 hover:bg-gray-500 text-white" data-tooltip="Copy Link" aria-label="Copy Link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
          </button>
        </div>
      </div>

      <!-- Author Bio -->
      <div class="mt-12 p-8 bg-gray-50 dark:bg-navy-800 rounded-2xl">
        <div class="flex items-start gap-4">
          <img src="../../headshot.png" alt="Lee Foropoulos" class="w-16 h-16 rounded-full object-cover" onerror="this.src='https://via.placeholder.com/64x64.png?text=LF';">
          <div>
            <h3 class="font-bold text-navy-900 dark:text-white">Lee Foropoulos</h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm mb-3">Business Development Lead at Lookatmedia | Fractional Executive | Tourism Ambassador for Visit Mobile</p>
            <p class="text-gray-600 dark:text-gray-300 text-sm">
              20+ years of experience scaling SaaS platforms and leading teams. I write about leadership, technology, AI, and building sustainable habits.
            </p>
            <div class="flex gap-3 mt-4">
              <a href="https://x.com/thesecretchief" target="_blank" class="text-gray-500 hover:text-gold-500 transition">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
              </a>
              <a href="https://www.linkedin.com/in/thesecretchief" target="_blank" class="text-gray-500 hover:text-gold-500 transition">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
              </a>
            </div>
          </div>
        </div>
      </div>

    </div>
  </article>

  <!-- Copy Toast -->
  <div id="copy-toast" class="copy-toast">Link copied to clipboard!</div>

  <!-- Related Posts -->
  <section class="py-12 bg-gray-50 dark:bg-navy-800">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-navy-900 dark:text-white mb-8">Related Posts</h2>
      <div class="grid sm:grid-cols-2 gap-6">
        <a href="ai-automation-for-small-business.html" class="bg-white dark:bg-navy-900 rounded-xl p-6 shadow-sm hover:shadow-lg transition border border-gray-100 dark:border-white/10">
          <span class="text-xs font-semibold text-gold-600 dark:text-gold-400">Business</span>
          <h3 class="font-bold text-navy-900 dark:text-white mt-2">5 AI Automation Strategies for Small Business</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mt-2">Practical strategies that can save your business 20+ hours per week.</p>
        </a>
        <a href="claude-vs-chatgpt-2026.html" class="bg-white dark:bg-navy-900 rounded-xl p-6 shadow-sm hover:shadow-lg transition border border-gray-100 dark:border-white/10">
          <span class="text-xs font-semibold text-blue-600 dark:text-blue-400">Technology</span>
          <h3 class="font-bold text-navy-900 dark:text-white mt-2">Claude vs ChatGPT in 2026</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mt-2">Which AI assistant should you choose for your automation needs?</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Back to Top Button -->
  <!-- VOICE_READER -->
<!-- Voice Reader for Blog Posts -->
<div id="voice-reader" class="fixed bottom-24 right-8 z-40 flex flex-col items-end gap-2">
  <!-- Controls (hidden by default, shown when reading) -->
  <div id="voice-controls" class="hidden bg-navy-800 rounded-xl shadow-xl border border-white/10 p-4 mb-2 min-w-[200px]">
    <!-- Voice selector -->
    <div class="mb-3">
      <label class="text-gray-400 text-xs block mb-1">Voice</label>
      <select id="voice-select" class="w-full bg-navy-700 text-white text-sm rounded-lg px-3 py-2 border border-white/10 focus:border-gold-500 focus:outline-none">
        <option value="">Loading voices...</option>
      </select>
    </div>

    <!-- Speed controls -->
    <div class="flex items-center justify-between mb-3">
      <label class="text-gray-400 text-xs">Speed</label>
      <div class="flex items-center gap-2">
        <button id="voice-slower" class="p-1.5 text-gray-400 hover:text-gold-400 transition rounded hover:bg-white/5" title="Slower">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
          </svg>
        </button>
        <span id="voice-speed" class="text-white text-sm font-medium min-w-[3rem] text-center">1.0x</span>
        <button id="voice-faster" class="p-1.5 text-gray-400 hover:text-gold-400 transition rounded hover:bg-white/5" title="Faster">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Playback controls -->
    <div class="flex items-center justify-center gap-1 mb-3">
      <button id="voice-skip-back" class="p-2 text-gray-400 hover:text-gold-400 transition rounded hover:bg-white/5" title="Previous paragraph">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.333 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z"></path>
        </svg>
      </button>
      <button id="voice-stop" class="p-2 text-gray-400 hover:text-red-400 transition rounded hover:bg-white/5" title="Stop">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"></path>
        </svg>
      </button>
      <button id="voice-skip-forward" class="p-2 text-gray-400 hover:text-gold-400 transition rounded hover:bg-white/5" title="Next paragraph">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.933 12.8a1 1 0 000-1.6L6.6 7.2A1 1 0 005 8v8a1 1 0 001.6.8l5.333-4zM19.933 12.8a1 1 0 000-1.6l-5.333-4A1 1 0 0013 8v8a1 1 0 001.6.8l5.333-4z"></path>
        </svg>
      </button>
    </div>

    <!-- Progress indicator -->
    <div class="text-xs text-gray-400 text-center">
      <span id="voice-progress">0</span> / <span id="voice-total">0</span> paragraphs
    </div>
  </div>

  <!-- Main Play/Pause Button -->
  <button id="voice-toggle" class="bg-gold-500 hover:bg-gold-400 text-navy-900 p-4 rounded-full shadow-lg transition transform hover:scale-110 group" title="Listen to article">
    <!-- Play icon -->
    <svg id="voice-play-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <!-- Pause icon (hidden by default) -->
    <svg id="voice-pause-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
  </button>
</div>

<style>
  /* Highlight currently reading element */
  .voice-reading {
    background: linear-gradient(90deg, rgba(245, 158, 11, 0.1) 0%, rgba(245, 158, 11, 0.2) 50%, rgba(245, 158, 11, 0.1) 100%);
    border-left: 3px solid #f59e0b;
    padding-left: 1rem;
    margin-left: -1rem;
    border-radius: 0 0.5rem 0.5rem 0;
    transition: all 0.3s ease;
  }

  .dark .voice-reading {
    background: linear-gradient(90deg, rgba(245, 158, 11, 0.05) 0%, rgba(245, 158, 11, 0.15) 50%, rgba(245, 158, 11, 0.05) 100%);
  }

  #voice-select {
    cursor: pointer;
  }
  #voice-select::-webkit-scrollbar {
    width: 6px;
  }
  #voice-select::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.1);
    border-radius: 3px;
  }
  #voice-select::-webkit-scrollbar-thumb {
    background: rgba(245, 158, 11, 0.5);
    border-radius: 3px;
  }
</style>

<script>
(function() {
  'use strict';

  // Check if Speech Synthesis is supported
  if (!('speechSynthesis' in window)) {
    const voiceReader = document.getElementById('voice-reader');
    if (voiceReader) voiceReader.style.display = 'none';
    return;
  }

  const synth = window.speechSynthesis;
  let utterance = null;
  let paragraphs = [];
  let currentIndex = 0;
  let isPlaying = false;
  let isPaused = false;
  let rate = 1.0;
  let selectedVoice = null;
  let voicesLoaded = false;

  // DOM elements
  const toggleBtn = document.getElementById('voice-toggle');
  const playIcon = document.getElementById('voice-play-icon');
  const pauseIcon = document.getElementById('voice-pause-icon');
  const controls = document.getElementById('voice-controls');
  const voiceSelect = document.getElementById('voice-select');
  const speedDisplay = document.getElementById('voice-speed');
  const progressDisplay = document.getElementById('voice-progress');
  const totalDisplay = document.getElementById('voice-total');
  const slowerBtn = document.getElementById('voice-slower');
  const fasterBtn = document.getElementById('voice-faster');
  const skipBackBtn = document.getElementById('voice-skip-back');
  const skipForwardBtn = document.getElementById('voice-skip-forward');
  const stopBtn = document.getElementById('voice-stop');

  // Voice quality scoring - prioritize more natural voices
  function scoreVoice(voice) {
    let score = 0;
    const name = voice.name.toLowerCase();
    const lang = voice.lang.toLowerCase();

    // Must be English
    if (!lang.startsWith('en')) return -1000;

    // Premium/Neural voices (most natural)
    if (name.includes('neural') || name.includes('natural') || name.includes('premium')) score += 100;

    // Google voices (Chrome) - very natural
    if (name.includes('google')) score += 80;

    // Microsoft voices (Edge) - also quite good
    if (name.includes('microsoft') && (name.includes('online') || name.includes('natural'))) score += 75;

    // Apple voices (Safari)
    if (name.includes('samantha') || name.includes('alex') || name.includes('karen')) score += 70;

    // Specific high-quality voices
    if (name.includes('zira') || name.includes('david') || name.includes('mark')) score += 60;

    // Enhanced/HD voices
    if (name.includes('enhanced') || name.includes('hd') || name.includes('compact') === false) score += 30;

    // Prefer US English for consistency
    if (lang === 'en-us' || lang === 'en_us') score += 20;

    // Prefer female voices (often clearer for narration)
    if (name.includes('female') || name.includes('zira') || name.includes('samantha') || name.includes('karen') || name.includes('victoria')) score += 10;

    // Local voices are usually lower quality
    if (voice.localService && !name.includes('google') && !name.includes('microsoft')) score -= 20;

    return score;
  }

  // Get and sort voices by quality
  function loadVoices() {
    const voices = synth.getVoices();
    if (voices.length === 0) return;

    // Filter English voices and sort by quality score
    const englishVoices = voices
      .filter(v => v.lang.toLowerCase().startsWith('en'))
      .map(v => ({ voice: v, score: scoreVoice(v) }))
      .sort((a, b) => b.score - a.score)
      .map(v => v.voice);

    if (englishVoices.length === 0) return;

    // Populate dropdown
    voiceSelect.innerHTML = '';
    englishVoices.forEach((voice, index) => {
      const option = document.createElement('option');
      option.value = index;
      // Clean up voice name for display
      let displayName = voice.name
        .replace('Microsoft ', '')
        .replace('Google ', '')
        .replace(' Online (Natural)', ' (Natural)')
        .replace(' - English (United States)', '')
        .replace(' (United States)', ' (US)')
        .replace(' (United Kingdom)', ' (UK)')
        .replace(' (Australia)', ' (AU)');
      option.textContent = displayName;
      option.dataset.voiceName = voice.name;
      voiceSelect.appendChild(option);
    });

    // Select best voice by default
    selectedVoice = englishVoices[0];
    voiceSelect.value = '0';

    // Try to restore saved preference
    const savedVoice = localStorage.getItem('preferredVoice');
    if (savedVoice) {
      const savedIndex = englishVoices.findIndex(v => v.name === savedVoice);
      if (savedIndex !== -1) {
        selectedVoice = englishVoices[savedIndex];
        voiceSelect.value = savedIndex.toString();
      }
    }

    voicesLoaded = true;

    // Store voices for later reference
    voiceSelect._voices = englishVoices;
  }

  // Voice selection change
  voiceSelect.addEventListener('change', function() {
    const voices = this._voices;
    if (voices && voices[this.value]) {
      selectedVoice = voices[this.value];
      localStorage.setItem('preferredVoice', selectedVoice.name);

      // If currently playing, restart with new voice
      if (isPlaying && !isPaused) {
        synth.cancel();
        speakParagraph(currentIndex);
      }
    }
  });

  // Get article content
  function getArticleParagraphs() {
    const article = document.querySelector('article .prose');
    if (!article) return [];

    const elements = article.querySelectorAll('p, h2, h3, li');
    return Array.from(elements).filter(el => {
      const text = el.innerText.trim();
      return text.length > 0;
    });
  }

  // Update UI state
  function updateUI() {
    if (isPlaying && !isPaused) {
      playIcon.classList.add('hidden');
      pauseIcon.classList.remove('hidden');
      controls.classList.remove('hidden');
    } else if (isPaused) {
      playIcon.classList.remove('hidden');
      pauseIcon.classList.add('hidden');
      controls.classList.remove('hidden');
    } else {
      playIcon.classList.remove('hidden');
      pauseIcon.classList.add('hidden');
      controls.classList.add('hidden');
    }

    progressDisplay.textContent = currentIndex + 1;
    totalDisplay.textContent = paragraphs.length;
    speedDisplay.textContent = rate.toFixed(1) + 'x';
  }

  // Highlight current paragraph
  function highlightParagraph(index) {
    // Remove previous highlight
    document.querySelectorAll('.voice-reading').forEach(el => {
      el.classList.remove('voice-reading');
    });

    // Add highlight to current
    if (paragraphs[index]) {
      paragraphs[index].classList.add('voice-reading');

      // Smooth scroll to element
      const rect = paragraphs[index].getBoundingClientRect();
      const offset = window.innerHeight / 3;

      if (rect.top < 100 || rect.bottom > window.innerHeight - 100) {
        window.scrollTo({
          top: window.scrollY + rect.top - offset,
          behavior: 'smooth'
        });
      }
    }
  }

  // Speak a paragraph
  function speakParagraph(index) {
    if (index >= paragraphs.length) {
      stopReading();
      return;
    }

    currentIndex = index;
    highlightParagraph(index);
    updateUI();

    let text = paragraphs[index].innerText.trim();

    // Add natural pauses for better flow
    text = text
      .replace(/\. /g, '... ')  // Longer pause after sentences
      .replace(/\? /g, '?... ')
      .replace(/! /g, '!... ')
      .replace(/: /g, ':.. ')   // Medium pause after colons
      .replace(/; /g, ';.. ')
      .replace(/, /g, ', ');    // Keep commas natural

    utterance = new SpeechSynthesisUtterance(text);
    utterance.rate = rate;
    utterance.pitch = 1.0;  // Keep pitch natural
    utterance.volume = 1.0;

    // Use selected voice
    if (selectedVoice) {
      utterance.voice = selectedVoice;
    }

    utterance.onend = function() {
      if (isPlaying && !isPaused) {
        // Small pause between paragraphs for natural flow
        setTimeout(() => {
          if (isPlaying && !isPaused) {
            speakParagraph(currentIndex + 1);
          }
        }, 300);
      }
    };

    utterance.onerror = function(e) {
      if (e.error !== 'interrupted' && e.error !== 'canceled') {
        console.error('Speech error:', e.error);
        speakParagraph(currentIndex + 1);
      }
    };

    synth.speak(utterance);
  }

  // Start reading
  function startReading() {
    paragraphs = getArticleParagraphs();
    if (paragraphs.length === 0) return;

    isPlaying = true;
    isPaused = false;

    if (synth.paused) {
      synth.resume();
    } else {
      speakParagraph(currentIndex);
    }

    updateUI();
  }

  // Pause reading
  function pauseReading() {
    isPaused = true;
    synth.pause();
    updateUI();
  }

  // Resume reading
  function resumeReading() {
    isPaused = false;
    synth.resume();
    updateUI();
  }

  // Stop reading
  function stopReading() {
    isPlaying = false;
    isPaused = false;
    currentIndex = 0;
    synth.cancel();

    // Remove highlights
    document.querySelectorAll('.voice-reading').forEach(el => {
      el.classList.remove('voice-reading');
    });

    updateUI();
  }

  // Toggle button click
  toggleBtn.addEventListener('click', function() {
    if (!isPlaying) {
      startReading();
    } else if (isPaused) {
      resumeReading();
    } else {
      pauseReading();
    }
  });

  // Stop button
  stopBtn.addEventListener('click', stopReading);

  // Speed controls
  slowerBtn.addEventListener('click', function() {
    rate = Math.max(0.5, rate - 0.1);
    speedDisplay.textContent = rate.toFixed(1) + 'x';
    if (isPlaying && !isPaused) {
      synth.cancel();
      speakParagraph(currentIndex);
    }
  });

  fasterBtn.addEventListener('click', function() {
    rate = Math.min(2.0, rate + 0.1);
    speedDisplay.textContent = rate.toFixed(1) + 'x';
    if (isPlaying && !isPaused) {
      synth.cancel();
      speakParagraph(currentIndex);
    }
  });

  // Skip controls
  skipBackBtn.addEventListener('click', function() {
    if (currentIndex > 0) {
      synth.cancel();
      speakParagraph(currentIndex - 1);
    }
  });

  skipForwardBtn.addEventListener('click', function() {
    if (currentIndex < paragraphs.length - 1) {
      synth.cancel();
      speakParagraph(currentIndex + 1);
    }
  });

  // Initialize
  paragraphs = getArticleParagraphs();
  totalDisplay.textContent = paragraphs.length;

  // Load voices (async in some browsers)
  loadVoices();
  if (synth.onvoiceschanged !== undefined) {
    synth.onvoiceschanged = loadVoices;
  }

  // Restore saved speed preference
  const savedRate = localStorage.getItem('preferredRate');
  if (savedRate) {
    rate = parseFloat(savedRate);
    speedDisplay.textContent = rate.toFixed(1) + 'x';
  }

  // Save speed on change
  const originalSlower = slowerBtn.onclick;
  const originalFaster = fasterBtn.onclick;
  slowerBtn.addEventListener('click', () => localStorage.setItem('preferredRate', rate.toFixed(1)));
  fasterBtn.addEventListener('click', () => localStorage.setItem('preferredRate', rate.toFixed(1)));

  // Stop when leaving page
  window.addEventListener('beforeunload', function() {
    synth.cancel();
  });

  // Handle visibility change (pause when tab hidden)
  document.addEventListener('visibilitychange', function() {
    if (document.hidden && isPlaying && !isPaused) {
      pauseReading();
    }
  });

})();
</script>

<!-- /VOICE_READER -->

<button id="back-to-top" class="fixed bottom-8 right-8 z-40 bg-gold-500 hover:bg-gold-400 text-navy-900 p-3 rounded-full shadow-lg transition transform hover:scale-110" aria-label="Back to top">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
  </button>

  <!-- Footer -->
  <footer class="bg-navy-900 border-t border-white/10 py-8">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <a href="../" class="text-white font-bold text-lg">Foropoulos<span class="text-gold-400">Now</span><span class="text-gray-400 text-sm">.com</span></a>
      <p class="text-gray-500 text-sm mt-2">&copy; 2026 Greek-Fire Corporation</p>
    </div>

    <!-- Legal Links -->
<div class="mt-8 pt-6 border-t border-white/10 flex flex-wrap justify-center gap-4 text-sm">
  <button id="cookie-settings-btn" class="text-gray-500 hover:text-gold-400 transition">Cookie Settings</button>
  <span class="text-gray-600">|</span>
  <a href="../../privacy" class="text-gray-500 hover:text-gold-400 transition">Privacy Policy</a>
</div>
  </footer>

  <script>
    // Back to Top Button
    const backToTop = document.getElementById('back-to-top');
    function updateBackToTop() {
      if (window.scrollY > 500) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }
    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    window.addEventListener('scroll', updateBackToTop);
    updateBackToTop();

    // Share functionality with engaging hooks
    function getShareData() {
      const title = document.querySelector('meta[property="og:title"]')?.content || document.title;
      const description = document.querySelector('meta[property="og:description"]')?.content || '';
      const url = document.querySelector('meta[property="og:url"]')?.content || window.location.href;
      // Get custom hook from meta tag, or generate from description
      const hook = document.querySelector('meta[name="share:hook"]')?.content || description;
      return { title, description, url, hook };
    }

    function showToast(message) {
      const toast = document.getElementById('copy-toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }

    function copyShareText() {
      const { hook, url } = getShareData();
      const shareText = hook + '\n\n' + url;
      navigator.clipboard.writeText(shareText).then(() => {
        showToast('Share text copied to clipboard!');
      });
    }

    function copyHookAndShare(platform) {
      const { hook, url } = getShareData();
      // Copy hook to clipboard first
      navigator.clipboard.writeText(hook).then(() => {
        showToast('Share text copied! Paste in your post.');
        // Brief delay to let user see the toast, then open share dialog
        setTimeout(() => {
          if (platform === 'twitter') {
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(hook)}&url=${encodeURIComponent(url)}`, '_blank', 'width=550,height=420');
          } else if (platform === 'linkedin') {
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank', 'width=550,height=420');
          } else if (platform === 'facebook') {
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(hook)}`, '_blank', 'width=550,height=420');
          }
        }, 500);
      });
    }

    function shareOnTwitter() {
      copyHookAndShare('twitter');
    }

    function shareOnLinkedIn() {
      copyHookAndShare('linkedin');
    }

    function shareOnFacebook() {
      copyHookAndShare('facebook');
    }

    function copyLink() {
      const { url } = getShareData();
      navigator.clipboard.writeText(url).then(() => {
        showToast('Link copied to clipboard!');
      });
    }
  </script>

<!-- MUSIC_PLAYER -->
<!-- Ambient Music Player -->
<div id="music-player" class="fixed bottom-8 left-8 z-40 opacity-0 translate-y-4 transition-all duration-500">
  <!-- Expanded Player Panel -->
  <div id="music-panel" class="hidden mb-3 bg-navy-900/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 overflow-hidden w-72">
    <!-- Track Visualizer Header -->
    <div class="relative h-24 bg-gradient-to-br from-gold-500/20 via-purple-500/20 to-blue-500/20 overflow-hidden">
      <div id="music-visualizer" class="absolute inset-0 flex items-end justify-center gap-1 px-4 pb-2">
        <!-- Equalizer bars generated by JS -->
      </div>
      <div class="absolute inset-0 bg-gradient-to-t from-navy-900/90 to-transparent"></div>
      <div class="absolute bottom-2 left-4 right-4">
        <p id="music-track-name" class="text-white font-semibold text-sm truncate">Select a track</p>
        <p id="music-track-artist" class="text-gray-400 text-xs truncate">Ambient Music</p>
      </div>
    </div>

    <!-- Track Selector -->
    <div class="p-4 border-b border-white/10">
      <label class="text-gray-400 text-xs block mb-2">Atmosphere</label>
      <select id="music-track-select" class="w-full bg-navy-800 text-white text-sm rounded-lg px-3 py-2.5 border border-white/10 focus:border-gold-500 focus:outline-none cursor-pointer">
        <option value="">Choose your vibe...</option>
        <optgroup label="Classical">
          <option value="classical-peaceful" data-name="Peaceful Piano" data-artist="Royalty Free">Peaceful Piano</option>
          <option value="classical-dramatic" data-name="Epic Orchestra" data-artist="Royalty Free">Epic Orchestra</option>
          <option value="classical-baroque" data-name="Baroque Elegance" data-artist="Royalty Free">Baroque Elegance</option>
        </optgroup>
        <optgroup label="Electronic">
          <option value="electronic-ambient" data-name="Deep Focus" data-artist="Royalty Free">Deep Focus</option>
          <option value="electronic-chill" data-name="Chill Waves" data-artist="Royalty Free">Chill Waves</option>
          <option value="electronic-dark" data-name="Dark Synthwave" data-artist="Royalty Free">Dark Synthwave</option>
        </optgroup>
        <optgroup label="Acoustic">
          <option value="acoustic-guitar" data-name="Acoustic Dreams" data-artist="Royalty Free">Acoustic Dreams</option>
          <option value="acoustic-jazz" data-name="Smooth Jazz" data-artist="Royalty Free">Smooth Jazz</option>
        </optgroup>
        <optgroup label="Cinematic">
          <option value="cinematic-tension" data-name="Building Tension" data-artist="Royalty Free">Building Tension</option>
          <option value="cinematic-inspiring" data-name="Inspiring Journey" data-artist="Royalty Free">Inspiring Journey</option>
        </optgroup>
      </select>
    </div>

    <!-- Progress Bar -->
    <div class="px-4 pt-3">
      <div id="music-progress-container" class="relative h-1.5 bg-white/10 rounded-full cursor-pointer group">
        <div id="music-progress-bar" class="absolute left-0 top-0 h-full bg-gradient-to-r from-gold-500 to-gold-400 rounded-full transition-all duration-150" style="width: 0%"></div>
        <div id="music-progress-handle" class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-gold-400 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity" style="left: 0%"></div>
      </div>
      <div class="flex justify-between mt-1 text-xs text-gray-500">
        <span id="music-current-time">0:00</span>
        <span id="music-duration">0:00</span>
      </div>
    </div>

    <!-- Playback Controls -->
    <div class="flex items-center justify-center gap-2 p-4">
      <button id="music-shuffle" class="p-2 text-gray-500 hover:text-gold-400 transition rounded-lg hover:bg-white/5" title="Shuffle">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
        </svg>
      </button>
      <button id="music-prev" class="p-2 text-gray-400 hover:text-white transition rounded-lg hover:bg-white/5" title="Previous">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path>
        </svg>
      </button>
      <button id="music-play-btn" class="p-3 bg-gold-500 hover:bg-gold-400 text-navy-900 rounded-full transition transform hover:scale-105 shadow-lg" title="Play">
        <svg id="music-play-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"></path>
        </svg>
        <svg id="music-pause-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
        </svg>
      </button>
      <button id="music-next" class="p-2 text-gray-400 hover:text-white transition rounded-lg hover:bg-white/5" title="Next">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path>
        </svg>
      </button>
      <button id="music-loop" class="p-2 text-gray-500 hover:text-gold-400 transition rounded-lg hover:bg-white/5" title="Loop">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
        </svg>
      </button>
    </div>

    <!-- Volume Control -->
    <div class="px-4 pb-4 flex items-center gap-3">
      <button id="music-mute" class="text-gray-400 hover:text-white transition" title="Mute">
        <svg id="music-volume-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
        </svg>
        <svg id="music-mute-icon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"></path>
        </svg>
      </button>
      <div id="music-volume-container" class="flex-1 relative h-1.5 bg-white/10 rounded-full cursor-pointer group">
        <div id="music-volume-bar" class="absolute left-0 top-0 h-full bg-gold-500 rounded-full" style="width: 70%"></div>
        <div id="music-volume-handle" class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-gold-400 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity" style="left: 70%"></div>
      </div>
      <span id="music-volume-value" class="text-gray-500 text-xs w-8 text-right">70%</span>
    </div>
  </div>

  <!-- Floating Toggle Button -->
  <button id="music-toggle" class="relative bg-navy-900/90 hover:bg-navy-800 backdrop-blur-xl text-white p-4 rounded-full shadow-2xl border border-white/10 transition-all duration-300 hover:scale-110 hover:border-gold-500/50 group">
    <!-- Pulsing ring when playing -->
    <div id="music-pulse" class="absolute inset-0 rounded-full bg-gold-500/20 animate-ping hidden"></div>

    <!-- Music note icon -->
    <svg id="music-note-icon" class="w-6 h-6 relative z-10 transition-transform group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
    </svg>

    <!-- Equalizer animation (shown when playing) -->
    <div id="music-eq-mini" class="hidden absolute inset-0 flex items-center justify-center gap-0.5">
      <span class="w-1 bg-gold-400 rounded-full animate-eq-1"></span>
      <span class="w-1 bg-gold-400 rounded-full animate-eq-2"></span>
      <span class="w-1 bg-gold-400 rounded-full animate-eq-3"></span>
      <span class="w-1 bg-gold-400 rounded-full animate-eq-4"></span>
    </div>
  </button>
</div>

<style>
  /* Equalizer animations */
  @keyframes eq-1 {
    0%, 100% { height: 4px; }
    50% { height: 16px; }
  }
  @keyframes eq-2 {
    0%, 100% { height: 8px; }
    50% { height: 20px; }
  }
  @keyframes eq-3 {
    0%, 100% { height: 12px; }
    50% { height: 8px; }
  }
  @keyframes eq-4 {
    0%, 100% { height: 6px; }
    50% { height: 14px; }
  }

  .animate-eq-1 { animation: eq-1 0.8s ease-in-out infinite; }
  .animate-eq-2 { animation: eq-2 0.6s ease-in-out infinite 0.1s; }
  .animate-eq-3 { animation: eq-3 0.7s ease-in-out infinite 0.2s; }
  .animate-eq-4 { animation: eq-4 0.5s ease-in-out infinite 0.15s; }

  /* Large visualizer bars */
  .visualizer-bar {
    width: 4px;
    background: linear-gradient(to top, #f59e0b, #fbbf24);
    border-radius: 2px;
    transition: height 0.1s ease;
  }

  /* Track select styling */
  #music-track-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1rem;
    padding-right: 2.5rem;
  }

  #music-track-select optgroup {
    background: #1e293b;
    color: #f59e0b;
    font-weight: 600;
  }

  #music-track-select option {
    background: #0f172a;
    color: white;
    padding: 0.5rem;
  }

  /* Active states */
  #music-loop.active,
  #music-shuffle.active {
    color: #f59e0b;
    background: rgba(245, 158, 11, 0.1);
  }

  /* Player reveal animation */
  #music-player.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Responsive positioning */
  @media (max-width: 640px) {
    #music-player {
      left: 4px;
      bottom: 4px;
    }
    #music-panel {
      width: calc(100vw - 32px);
      max-width: 320px;
    }
  }
</style>

<script>
(function() {
  'use strict';

  // ===== TRACK LIBRARY =====
  // Using Pixabay royalty-free music (no attribution required)
  const TRACKS = {
    'classical-peaceful': {
      url: 'https://cdn.pixabay.com/audio/2024/11/29/audio_5e3b57e542.mp3',
      name: 'Peaceful Piano',
      artist: 'Ambient'
    },
    'classical-dramatic': {
      url: 'https://cdn.pixabay.com/audio/2024/02/14/audio_66b07c6067.mp3',
      name: 'Epic Orchestra',
      artist: 'Cinematic'
    },
    'classical-baroque': {
      url: 'https://cdn.pixabay.com/audio/2023/10/30/audio_67e7878301.mp3',
      name: 'Baroque Elegance',
      artist: 'Classical'
    },
    'electronic-ambient': {
      url: 'https://cdn.pixabay.com/audio/2024/09/10/audio_6e5d7d1912.mp3',
      name: 'Deep Focus',
      artist: 'Electronic'
    },
    'electronic-chill': {
      url: 'https://cdn.pixabay.com/audio/2023/07/30/audio_e7aa9b04bc.mp3',
      name: 'Chill Waves',
      artist: 'Lo-Fi'
    },
    'electronic-dark': {
      url: 'https://cdn.pixabay.com/audio/2023/03/19/audio_c0f61e5d55.mp3',
      name: 'Dark Synthwave',
      artist: 'Synthwave'
    },
    'acoustic-guitar': {
      url: 'https://cdn.pixabay.com/audio/2024/04/02/audio_4285a9eb0a.mp3',
      name: 'Acoustic Dreams',
      artist: 'Acoustic'
    },
    'acoustic-jazz': {
      url: 'https://cdn.pixabay.com/audio/2024/09/03/audio_7389f45632.mp3',
      name: 'Smooth Jazz',
      artist: 'Jazz'
    },
    'cinematic-tension': {
      url: 'https://cdn.pixabay.com/audio/2023/09/21/audio_8e19b90d3c.mp3',
      name: 'Building Tension',
      artist: 'Cinematic'
    },
    'cinematic-inspiring': {
      url: 'https://cdn.pixabay.com/audio/2023/10/11/audio_7f65edc3a0.mp3',
      name: 'Inspiring Journey',
      artist: 'Cinematic'
    }
  };

  // ===== STATE =====
  let audio = null;
  let isPlaying = false;
  let isLooping = false;
  let isShuffling = false;
  let currentTrackId = null;
  let volume = 0.7;
  let analyser = null;
  let audioContext = null;
  let animationId = null;

  // ===== DOM ELEMENTS =====
  const player = document.getElementById('music-player');
  const panel = document.getElementById('music-panel');
  const toggleBtn = document.getElementById('music-toggle');
  const playBtn = document.getElementById('music-play-btn');
  const playIcon = document.getElementById('music-play-icon');
  const pauseIcon = document.getElementById('music-pause-icon');
  const trackSelect = document.getElementById('music-track-select');
  const trackName = document.getElementById('music-track-name');
  const trackArtist = document.getElementById('music-track-artist');
  const progressBar = document.getElementById('music-progress-bar');
  const progressHandle = document.getElementById('music-progress-handle');
  const progressContainer = document.getElementById('music-progress-container');
  const currentTimeEl = document.getElementById('music-current-time');
  const durationEl = document.getElementById('music-duration');
  const volumeBar = document.getElementById('music-volume-bar');
  const volumeHandle = document.getElementById('music-volume-handle');
  const volumeContainer = document.getElementById('music-volume-container');
  const volumeValue = document.getElementById('music-volume-value');
  const muteBtn = document.getElementById('music-mute');
  const volumeIcon = document.getElementById('music-volume-icon');
  const muteIcon = document.getElementById('music-mute-icon');
  const loopBtn = document.getElementById('music-loop');
  const shuffleBtn = document.getElementById('music-shuffle');
  const prevBtn = document.getElementById('music-prev');
  const nextBtn = document.getElementById('music-next');
  const visualizer = document.getElementById('music-visualizer');
  const pulse = document.getElementById('music-pulse');
  const noteIcon = document.getElementById('music-note-icon');
  const eqMini = document.getElementById('music-eq-mini');

  // ===== INITIALIZATION =====
  function init() {
    // Check for page-specific music setting
    const pageMusicMeta = document.querySelector('meta[name="ambient:music"]');
    const pageMusicTrack = pageMusicMeta ? pageMusicMeta.content : null;

    // Restore preferences
    const savedVolume = localStorage.getItem('musicVolume');
    const savedTrack = localStorage.getItem('musicTrack');
    const savedLoop = localStorage.getItem('musicLoop');

    if (savedVolume) {
      volume = parseFloat(savedVolume);
      updateVolumeUI();
    }

    if (savedLoop === 'true') {
      isLooping = true;
      loopBtn.classList.add('active');
    }

    // Set initial track (page preference > saved > none)
    if (pageMusicTrack && TRACKS[pageMusicTrack]) {
      trackSelect.value = pageMusicTrack;
    } else if (savedTrack && TRACKS[savedTrack]) {
      trackSelect.value = savedTrack;
    }

    // Create visualizer bars
    createVisualizerBars();

    // Show player with animation
    setTimeout(() => {
      player.classList.add('visible');
    }, 1000);

    // Bind events
    bindEvents();
  }

  // ===== VISUALIZER =====
  function createVisualizerBars() {
    visualizer.innerHTML = '';
    for (let i = 0; i < 32; i++) {
      const bar = document.createElement('div');
      bar.className = 'visualizer-bar';
      bar.style.height = '4px';
      visualizer.appendChild(bar);
    }
  }

  function setupAudioAnalyser() {
    if (!audio || audioContext) return;

    try {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
      analyser = audioContext.createAnalyser();
      const source = audioContext.createMediaElementSource(audio);
      source.connect(analyser);
      analyser.connect(audioContext.destination);
      analyser.fftSize = 64;
    } catch (e) {
      console.log('Audio analyser not supported');
    }
  }

  function animateVisualizer() {
    if (!analyser || !isPlaying) {
      cancelAnimationFrame(animationId);
      return;
    }

    const bars = visualizer.querySelectorAll('.visualizer-bar');
    const dataArray = new Uint8Array(analyser.frequencyBinCount);
    analyser.getByteFrequencyData(dataArray);

    bars.forEach((bar, i) => {
      const value = dataArray[i] || 0;
      const height = Math.max(4, (value / 255) * 60);
      bar.style.height = `${height}px`;
    });

    animationId = requestAnimationFrame(animateVisualizer);
  }

  // ===== AUDIO CONTROLS =====
  function loadTrack(trackId) {
    if (!trackId || !TRACKS[trackId]) return;

    const track = TRACKS[trackId];
    currentTrackId = trackId;

    if (audio) {
      audio.pause();
      audio.src = '';
    }

    audio = new Audio(track.url);
    audio.volume = volume;
    audio.loop = isLooping;
    audio.crossOrigin = 'anonymous';

    // Update UI
    trackName.textContent = track.name;
    trackArtist.textContent = track.artist;

    // Audio events
    audio.addEventListener('loadedmetadata', () => {
      durationEl.textContent = formatTime(audio.duration);
    });

    audio.addEventListener('timeupdate', updateProgress);
    audio.addEventListener('ended', handleTrackEnd);
    audio.addEventListener('play', () => {
      setupAudioAnalyser();
      animateVisualizer();
    });

    // Save preference
    localStorage.setItem('musicTrack', trackId);
  }

  function play() {
    if (!audio && trackSelect.value) {
      loadTrack(trackSelect.value);
    }

    if (!audio) return;

    // Resume audio context if suspended
    if (audioContext && audioContext.state === 'suspended') {
      audioContext.resume();
    }

    audio.play().then(() => {
      isPlaying = true;
      updatePlayButton();
      animateVisualizer();
    }).catch(e => {
      console.log('Playback prevented:', e.message);
    });
  }

  function pause() {
    if (!audio) return;
    audio.pause();
    isPlaying = false;
    updatePlayButton();
  }

  function togglePlay() {
    if (isPlaying) {
      pause();
    } else {
      play();
    }
  }

  function handleTrackEnd() {
    if (isShuffling) {
      playRandomTrack();
    } else if (!isLooping) {
      playNextTrack();
    }
  }

  function playNextTrack() {
    const options = Array.from(trackSelect.options).filter(o => o.value);
    const currentIndex = options.findIndex(o => o.value === currentTrackId);
    const nextIndex = (currentIndex + 1) % options.length;

    trackSelect.value = options[nextIndex].value;
    loadTrack(options[nextIndex].value);
    play();
  }

  function playPrevTrack() {
    const options = Array.from(trackSelect.options).filter(o => o.value);
    const currentIndex = options.findIndex(o => o.value === currentTrackId);
    const prevIndex = (currentIndex - 1 + options.length) % options.length;

    trackSelect.value = options[prevIndex].value;
    loadTrack(options[prevIndex].value);
    play();
  }

  function playRandomTrack() {
    const options = Array.from(trackSelect.options).filter(o => o.value && o.value !== currentTrackId);
    if (options.length === 0) return;

    const randomOption = options[Math.floor(Math.random() * options.length)];
    trackSelect.value = randomOption.value;
    loadTrack(randomOption.value);
    play();
  }

  // ===== UI UPDATES =====
  function updatePlayButton() {
    if (isPlaying) {
      playIcon.classList.add('hidden');
      pauseIcon.classList.remove('hidden');
      pulse.classList.remove('hidden');
      noteIcon.classList.add('hidden');
      eqMini.classList.remove('hidden');
    } else {
      playIcon.classList.remove('hidden');
      pauseIcon.classList.add('hidden');
      pulse.classList.add('hidden');
      noteIcon.classList.remove('hidden');
      eqMini.classList.add('hidden');
    }
  }

  function updateProgress() {
    if (!audio) return;

    const percent = (audio.currentTime / audio.duration) * 100 || 0;
    progressBar.style.width = `${percent}%`;
    progressHandle.style.left = `${percent}%`;
    currentTimeEl.textContent = formatTime(audio.currentTime);
  }

  function updateVolumeUI() {
    const percent = volume * 100;
    volumeBar.style.width = `${percent}%`;
    volumeHandle.style.left = `${percent}%`;
    volumeValue.textContent = `${Math.round(percent)}%`;

    if (volume === 0) {
      volumeIcon.classList.add('hidden');
      muteIcon.classList.remove('hidden');
    } else {
      volumeIcon.classList.remove('hidden');
      muteIcon.classList.add('hidden');
    }
  }

  function formatTime(seconds) {
    if (isNaN(seconds)) return '0:00';
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs.toString().padStart(2, '0')}`;
  }

  // ===== EVENT HANDLERS =====
  function bindEvents() {
    // Toggle panel
    toggleBtn.addEventListener('click', () => {
      panel.classList.toggle('hidden');
    });

    // Play/Pause
    playBtn.addEventListener('click', togglePlay);

    // Track selection
    trackSelect.addEventListener('change', (e) => {
      if (e.target.value) {
        loadTrack(e.target.value);
        play();
      }
    });

    // Previous/Next
    prevBtn.addEventListener('click', playPrevTrack);
    nextBtn.addEventListener('click', playNextTrack);

    // Loop toggle
    loopBtn.addEventListener('click', () => {
      isLooping = !isLooping;
      loopBtn.classList.toggle('active', isLooping);
      if (audio) audio.loop = isLooping;
      localStorage.setItem('musicLoop', isLooping);
    });

    // Shuffle toggle
    shuffleBtn.addEventListener('click', () => {
      isShuffling = !isShuffling;
      shuffleBtn.classList.toggle('active', isShuffling);
    });

    // Progress seeking
    progressContainer.addEventListener('click', (e) => {
      if (!audio) return;
      const rect = progressContainer.getBoundingClientRect();
      const percent = (e.clientX - rect.left) / rect.width;
      audio.currentTime = percent * audio.duration;
    });

    // Volume control
    volumeContainer.addEventListener('click', (e) => {
      const rect = volumeContainer.getBoundingClientRect();
      volume = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
      if (audio) audio.volume = volume;
      updateVolumeUI();
      localStorage.setItem('musicVolume', volume);
    });

    // Mute toggle
    let savedVolume = volume;
    muteBtn.addEventListener('click', () => {
      if (volume > 0) {
        savedVolume = volume;
        volume = 0;
      } else {
        volume = savedVolume || 0.7;
      }
      if (audio) audio.volume = volume;
      updateVolumeUI();
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      // Only handle if panel is open and no input is focused
      if (panel.classList.contains('hidden')) return;
      if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') return;

      if (e.code === 'Space' && e.target === document.body) {
        e.preventDefault();
        togglePlay();
      }
    });

    // Close panel when clicking outside
    document.addEventListener('click', (e) => {
      if (!player.contains(e.target) && !panel.classList.contains('hidden')) {
        panel.classList.add('hidden');
      }
    });
  }

  // ===== INIT =====
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

})();
</script>

<!-- /MUSIC_PLAYER -->

<!-- COOKIE_CONSENT -->
<!-- Cookie Consent Banner -->
<div id="cookie-consent" class="fixed bottom-0 left-0 right-0 z-[100] transform translate-y-full transition-transform duration-500" role="dialog" aria-labelledby="cookie-consent-title" aria-describedby="cookie-consent-description">
  <div class="bg-navy-900/98 backdrop-blur-lg border-t border-white/10 shadow-2xl">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <div class="flex-1">
          <h3 id="cookie-consent-title" class="text-white font-semibold text-lg mb-2">We value your privacy</h3>
          <p id="cookie-consent-description" class="text-gray-400 text-sm leading-relaxed">
            We use cookies to enhance your browsing experience, analyze site traffic, and personalize content.
            By clicking "Accept All", you consent to our use of cookies. You can manage your preferences anytime.
          </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-3 lg:ml-8">
          <button id="cookie-customize" class="px-5 py-2.5 text-gray-300 hover:text-white border border-white/20 hover:border-white/40 rounded-full text-sm font-medium transition">
            Customize
          </button>
          <button id="cookie-reject" class="px-5 py-2.5 text-gray-300 hover:text-white border border-white/20 hover:border-white/40 rounded-full text-sm font-medium transition">
            Reject All
          </button>
          <button id="cookie-accept" class="px-6 py-2.5 bg-gold-500 hover:bg-gold-400 text-navy-900 rounded-full text-sm font-semibold transition transform hover:scale-105">
            Accept All
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Cookie Settings Modal -->
<div id="cookie-modal" class="fixed inset-0 z-[110] hidden" role="dialog" aria-modal="true" aria-labelledby="cookie-modal-title">
  <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" id="cookie-modal-backdrop"></div>
  <div class="fixed inset-0 overflow-y-auto">
    <div class="flex min-h-full items-center justify-center p-4">
      <div class="bg-navy-800 rounded-2xl shadow-2xl max-w-lg w-full border border-white/10 transform transition-all">
        <div class="p-6 border-b border-white/10">
          <div class="flex items-center justify-between">
            <h3 id="cookie-modal-title" class="text-xl font-bold text-white">Cookie Preferences</h3>
            <button id="cookie-modal-close" class="text-gray-400 hover:text-white transition" aria-label="Close modal">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <p class="text-gray-400 text-sm mt-2">Manage your cookie preferences below. Essential cookies are always active as they're necessary for the site to function.</p>
        </div>

        <div class="p-6 space-y-4">
          <!-- Essential Cookies -->
          <div class="flex items-start justify-between p-4 bg-white/5 rounded-xl">
            <div class="flex-1 pr-4">
              <h4 class="text-white font-semibold">Essential Cookies</h4>
              <p class="text-gray-400 text-sm mt-1">Required for basic site functionality like navigation and secure access. Cannot be disabled.</p>
            </div>
            <div class="relative">
              <input type="checkbox" id="cookie-essential" checked disabled class="sr-only">
              <div class="w-11 h-6 bg-gold-500 rounded-full opacity-50 cursor-not-allowed">
                <div class="absolute top-0.5 left-5 w-5 h-5 bg-white rounded-full shadow"></div>
              </div>
            </div>
          </div>

          <!-- Analytics Cookies -->
          <div class="flex items-start justify-between p-4 bg-white/5 rounded-xl">
            <div class="flex-1 pr-4">
              <label for="cookie-analytics" class="text-white font-semibold cursor-pointer">Analytics Cookies</label>
              <p class="text-gray-400 text-sm mt-1">Help us understand how visitors interact with our site. We use Google Analytics and Microsoft Clarity.</p>
            </div>
            <label for="cookie-analytics" class="relative cursor-pointer">
              <input type="checkbox" id="cookie-analytics" class="sr-only peer">
              <div class="w-11 h-6 bg-gray-600 peer-checked:bg-gold-500 rounded-full transition-colors"></div>
              <div class="absolute top-0.5 left-0.5 peer-checked:left-5 w-5 h-5 bg-white rounded-full shadow transition-all"></div>
            </label>
          </div>

          <!-- Marketing Cookies -->
          <div class="flex items-start justify-between p-4 bg-white/5 rounded-xl">
            <div class="flex-1 pr-4">
              <label for="cookie-marketing" class="text-white font-semibold cursor-pointer">Marketing Cookies</label>
              <p class="text-gray-400 text-sm mt-1">Used to track visitors across websites to display relevant ads and measure campaign effectiveness.</p>
            </div>
            <label for="cookie-marketing" class="relative cursor-pointer">
              <input type="checkbox" id="cookie-marketing" class="sr-only peer">
              <div class="w-11 h-6 bg-gray-600 peer-checked:bg-gold-500 rounded-full transition-colors"></div>
              <div class="absolute top-0.5 left-0.5 peer-checked:left-5 w-5 h-5 bg-white rounded-full shadow transition-all"></div>
            </label>
          </div>
        </div>

        <div class="p-6 border-t border-white/10 flex justify-end gap-3">
          <button id="cookie-modal-reject" class="px-5 py-2.5 text-gray-300 hover:text-white border border-white/20 hover:border-white/40 rounded-full text-sm font-medium transition">
            Reject All
          </button>
          <button id="cookie-modal-save" class="px-6 py-2.5 bg-gold-500 hover:bg-gold-400 text-navy-900 rounded-full text-sm font-semibold transition">
            Save Preferences
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /COOKIE_CONSENT -->

<!-- SHARED_SCRIPTS -->
<script>
// ===== COOKIE UTILITIES =====
function getCookie(name) {
  const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
  return match ? match[2] : null;
}

function setCookie(name, value, days) {
  const expires = new Date(Date.now() + days * 864e5).toUTCString();
  document.cookie = name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/; SameSite=Lax';
}

function deleteCookie(name) {
  document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
}

// ===== COOKIE CONSENT MANAGEMENT =====
const CookieConsent = {
  CONSENT_COOKIE: 'cookieConsent',
  CONSENT_VERSION: '1.0',

  getConsent() {
    const consent = getCookie(this.CONSENT_COOKIE);
    if (!consent) return null;
    try {
      return JSON.parse(decodeURIComponent(consent));
    } catch (e) {
      return null;
    }
  },

  setConsent(preferences) {
    const consent = {
      version: this.CONSENT_VERSION,
      timestamp: new Date().toISOString(),
      essential: true, // Always true
      analytics: preferences.analytics || false,
      marketing: preferences.marketing || false
    };
    setCookie(this.CONSENT_COOKIE, JSON.stringify(consent), 365);
    return consent;
  },

  hasConsent() {
    return this.getConsent() !== null;
  },

  hasAnalyticsConsent() {
    const consent = this.getConsent();
    return consent && consent.analytics === true;
  },

  hasMarketingConsent() {
    const consent = this.getConsent();
    return consent && consent.marketing === true;
  },

  showBanner() {
    const banner = document.getElementById('cookie-consent');
    if (banner) {
      banner.classList.remove('translate-y-full');
    }
  },

  hideBanner() {
    const banner = document.getElementById('cookie-consent');
    if (banner) {
      banner.classList.add('translate-y-full');
    }
  },

  showModal() {
    const modal = document.getElementById('cookie-modal');
    if (modal) {
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      // Set checkboxes to current preferences
      const consent = this.getConsent() || { analytics: false, marketing: false };
      const analyticsCheckbox = document.getElementById('cookie-analytics');
      const marketingCheckbox = document.getElementById('cookie-marketing');
      if (analyticsCheckbox) analyticsCheckbox.checked = consent.analytics;
      if (marketingCheckbox) marketingCheckbox.checked = consent.marketing;
    }
  },

  hideModal() {
    const modal = document.getElementById('cookie-modal');
    if (modal) {
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }
  },

  acceptAll() {
    const consent = this.setConsent({ analytics: true, marketing: true });
    this.hideBanner();
    this.hideModal();
    this.applyConsent(consent);
    if (typeof siteAnalytics !== 'undefined') {
      siteAnalytics.trackEvent('cookie_consent', { consent_type: 'accept_all' });
    }
  },

  rejectAll() {
    const consent = this.setConsent({ analytics: false, marketing: false });
    this.hideBanner();
    this.hideModal();
    this.applyConsent(consent);
  },

  savePreferences() {
    const analyticsCheckbox = document.getElementById('cookie-analytics');
    const marketingCheckbox = document.getElementById('cookie-marketing');
    const consent = this.setConsent({
      analytics: analyticsCheckbox ? analyticsCheckbox.checked : false,
      marketing: marketingCheckbox ? marketingCheckbox.checked : false
    });
    this.hideBanner();
    this.hideModal();
    this.applyConsent(consent);
    if (consent.analytics && typeof siteAnalytics !== 'undefined') {
      siteAnalytics.trackEvent('cookie_consent', { consent_type: 'custom', analytics: consent.analytics, marketing: consent.marketing });
    }
  },

  applyConsent(consent) {
    // Dispatch event for analytics.js to listen to
    window.dispatchEvent(new CustomEvent('cookieConsentUpdated', { detail: consent }));
  },

  init() {
    if (!this.hasConsent()) {
      // Show banner after a short delay for better UX
      setTimeout(() => this.showBanner(), 1000);
    } else {
      // Apply existing consent
      this.applyConsent(this.getConsent());
    }
  }
};

// ===== MOBILE MENU =====
function initMobileMenu() {
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const closeMenuBtn = document.getElementById('close-menu');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuOverlay = document.getElementById('menu-overlay');

  if (!mobileMenuBtn || !mobileMenu) return;

  function openMobileMenu() {
    mobileMenu.classList.add('open');
    if (menuOverlay) menuOverlay.classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function closeMobileMenu() {
    mobileMenu.classList.remove('open');
    if (menuOverlay) menuOverlay.classList.remove('open');
    document.body.style.overflow = '';
  }

  mobileMenuBtn.addEventListener('click', openMobileMenu);
  if (closeMenuBtn) closeMenuBtn.addEventListener('click', closeMobileMenu);
  if (menuOverlay) menuOverlay.addEventListener('click', closeMobileMenu);

  // Close menu when clicking a link
  mobileMenu.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', closeMobileMenu);
  });

  // Close on Escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && mobileMenu.classList.contains('open')) {
      closeMobileMenu();
    }
  });
}

// ===== DARK MODE TOGGLE =====
function initDarkMode() {
  const darkModeToggle = document.getElementById('dark-mode-toggle');
  const darkModeToggleMobile = document.getElementById('dark-mode-toggle-mobile');

  // Prevent duplicate initialization
  if (window._darkModeInitialized) return;
  window._darkModeInitialized = true;

  function toggleDarkMode() {
    document.documentElement.classList.toggle('dark');
    const isDark = document.documentElement.classList.contains('dark');
    setCookie('darkMode', isDark, 365);
  }

  if (darkModeToggle) darkModeToggle.addEventListener('click', toggleDarkMode);
  if (darkModeToggleMobile) darkModeToggleMobile.addEventListener('click', toggleDarkMode);
}

// ===== BACK TO TOP =====
function initBackToTop() {
  const backToTop = document.getElementById('back-to-top');
  if (!backToTop) return;

  function updateBackToTop() {
    if (window.scrollY > 500) {
      backToTop.classList.add('visible');
    } else {
      backToTop.classList.remove('visible');
    }
  }

  backToTop.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  window.addEventListener('scroll', updateBackToTop);
}

// ===== SCROLL REVEAL =====
function initScrollReveal() {
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

  document.querySelectorAll('.reveal, .card-hover, .stagger-children').forEach(el => {
    revealObserver.observe(el);
  });
}

// ===== SMOOTH SCROLL =====
function initSmoothScroll() {
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      const href = this.getAttribute('href');
      if (href !== '#') {
        e.preventDefault();
        const target = document.querySelector(href);
        if (target) {
          const headerOffset = 80;
          const elementPosition = target.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.scrollY - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      }
    });
  });
}

// ===== COOKIE CONSENT EVENT LISTENERS =====
function initCookieConsentListeners() {
  // Banner buttons
  const acceptBtn = document.getElementById('cookie-accept');
  const rejectBtn = document.getElementById('cookie-reject');
  const customizeBtn = document.getElementById('cookie-customize');

  if (acceptBtn) acceptBtn.addEventListener('click', () => CookieConsent.acceptAll());
  if (rejectBtn) rejectBtn.addEventListener('click', () => CookieConsent.rejectAll());
  if (customizeBtn) customizeBtn.addEventListener('click', () => {
    CookieConsent.hideBanner();
    CookieConsent.showModal();
  });

  // Modal buttons
  const modalClose = document.getElementById('cookie-modal-close');
  const modalBackdrop = document.getElementById('cookie-modal-backdrop');
  const modalReject = document.getElementById('cookie-modal-reject');
  const modalSave = document.getElementById('cookie-modal-save');

  if (modalClose) modalClose.addEventListener('click', () => CookieConsent.hideModal());
  if (modalBackdrop) modalBackdrop.addEventListener('click', () => CookieConsent.hideModal());
  if (modalReject) modalReject.addEventListener('click', () => CookieConsent.rejectAll());
  if (modalSave) modalSave.addEventListener('click', () => CookieConsent.savePreferences());

  // Footer cookie settings button
  const cookieSettingsBtn = document.getElementById('cookie-settings-btn');
  if (cookieSettingsBtn) cookieSettingsBtn.addEventListener('click', () => CookieConsent.showModal());

  // Note: Cookie toggles are now wrapped in <label> elements, so native browser behavior handles the toggle.
  // No additional JavaScript handlers needed for the toggle switches.
}

// ===== INITIALIZE ALL =====
function initAll() {
  initMobileMenu();
  initDarkMode();
  initBackToTop();
  initScrollReveal();
  initSmoothScroll();
  initCookieConsentListeners();
  CookieConsent.init();
}

// Handle both fresh page load and cases where DOM is already ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initAll);
} else {
  // DOM is already ready, initialize immediately
  initAll();
}

// Expose CookieConsent for external use
window.CookieConsent = CookieConsent;
</script>

<!-- /SHARED_SCRIPTS -->
</body>
</html>
