<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gotHABITS | Personal Training & Nutrition Coaching</title>
  <meta name="description" content="NASM Certified Personal Trainer and Nutrition Coach. Build sustainable fitness and nutrition habits for lasting transformation.">
  <meta name="ambient:music" content="electronic-dark">
  <link rel="icon" type="image/svg+xml" href="../favicon.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            navy: {
              900: '#0f172a',
              800: '#1e293b',
              700: '#334155',
              600: '#475569',
            },
            gold: {
              700: '#b45309',
              600: '#d97706',
              500: '#f59e0b',
              400: '#fbbf24',
              300: '#fcd34d',
              200: '#fde68a',
              100: '#fef3c7',
              50: '#fffbeb',
            },
            amber: {
              700: '#b45309',
              600: '#d97706',
              500: '#f59e0b',
              400: '#fbbf24',
              300: '#fcd34d',
              200: '#fde68a',
              100: '#fef3c7',
            }
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <script>
    (function() {
      function getCookie(name) {
        const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        return match ? match[2] : null;
      }
      const darkPref = getCookie('darkMode');
      if (darkPref === 'true' || (!darkPref && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      }
    })();
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', system-ui, sans-serif; }
    .gradient-text {
      background: linear-gradient(135deg, #f59e0b, #ea580c);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .hero-gradient {
      background: linear-gradient(135deg, #f59e0b 0%, #ea580c 50%, #dc2626 100%);
    }
    .card-hover {
      transition: all 0.3s ease;
    }
    .card-hover:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    .mobile-menu {
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }
    .mobile-menu.open {
      transform: translateX(0);
    }

    /* Sales Funnel Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeInLeft {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeInRight {
      from { opacity: 0; transform: translateX(30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(251, 191, 36, 0.4); }
      50% { box-shadow: 0 0 40px rgba(251, 191, 36, 0.8); }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }
    @keyframes countUp {
      from { opacity: 0; transform: scale(0.5); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
    .animate-fade-in-left { animation: fadeInLeft 0.8s ease-out forwards; }
    .animate-fade-in-right { animation: fadeInRight 0.8s ease-out forwards; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    .animate-shimmer {
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      background-size: 200% 100%;
      animation: shimmer 2s infinite;
    }
    .animate-gradient {
      background-size: 200% 200%;
      animation: gradientShift 4s ease infinite;
    }

    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    .delay-400 { animation-delay: 0.4s; }
    .delay-500 { animation-delay: 0.5s; }

    /* Training Stack Card Effects */
    @keyframes emoji-bounce {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-8px) scale(1.15); }
    }
    @keyframes card-glow-pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(255,255,255,0.2), inset 0 0 20px rgba(255,255,255,0.05); }
      50% { box-shadow: 0 0 20px 5px rgba(255,255,255,0.3), inset 0 0 30px rgba(255,255,255,0.1); }
    }
    @keyframes border-glow {
      0%, 100% { border-color: rgba(255,255,255,0.1); }
      50% { border-color: rgba(255,255,255,0.4); }
    }
    @keyframes shimmer-effect {
      0% { left: -100%; }
      100% { left: 200%; }
    }
    @keyframes tilt-shake {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-2deg); }
      75% { transform: rotate(2deg); }
    }

    .stack-card {
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .stack-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.6s ease;
    }
    .stack-card:hover::before {
      left: 200%;
    }
    .stack-card:hover {
      transform: translateY(-8px) scale(1.05);
      background: rgba(255,255,255,0.25) !important;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3), 0 0 30px rgba(255,255,255,0.2);
      border-color: rgba(255,255,255,0.5);
    }
    .stack-card:active {
      transform: translateY(-2px) scale(0.98);
    }
    .stack-card .emoji {
      display: block;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .stack-card:hover .emoji {
      animation: emoji-bounce 0.6s ease-in-out;
      transform: scale(1.2);
      filter: drop-shadow(0 0 10px rgba(255,255,255,0.5));
    }
    .stack-card .card-label {
      transition: all 0.3s ease;
    }
    .stack-card:hover .card-label {
      color: #ffffff !important;
      text-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
    /* Allow dropdowns to overflow and stay on top of other cards */
    #multi-selector,
    #protein-selector {
      overflow: visible;
      z-index: 40;
    }
    #multi-selector.dropdown-open,
    #protein-selector.dropdown-open {
      z-index: 100;
    }

    /* Stagger animation for cards */
    .stack-card.animate-in {
      animation: fadeInUp 0.5s ease forwards;
    }
    .stack-card:nth-child(1) { animation-delay: 0.05s; }
    .stack-card:nth-child(2) { animation-delay: 0.1s; }
    .stack-card:nth-child(3) { animation-delay: 0.15s; }
    .stack-card:nth-child(4) { animation-delay: 0.2s; }
    .stack-card:nth-child(5) { animation-delay: 0.25s; }
    .stack-card:nth-child(6) { animation-delay: 0.3s; }
    .stack-card:nth-child(7) { animation-delay: 0.35s; }
    .stack-card:nth-child(8) { animation-delay: 0.4s; }
    .stack-card:nth-child(9) { animation-delay: 0.45s; }
    .stack-card:nth-child(10) { animation-delay: 0.5s; }

    /* Pulsing glow on the container */
    .stack-container {
      position: relative;
    }
    .stack-container::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 1.5rem;
      padding: 2px;
      background: linear-gradient(135deg, #fff 0%, transparent 50%, #fff 100%);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0.3;
      animation: gradientShift 4s ease infinite;
      background-size: 200% 200%;
    }

    .opacity-0 { opacity: 0; }

    /* Back to Top Button */
    #back-to-top { opacity: 0; visibility: hidden; transition: all 0.3s ease; }
    #back-to-top.visible { opacity: 1; visibility: visible; }

    /* Scroll-triggered animations */
    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease;
    }
    .reveal.active,
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* CTA Button Effects */
    .cta-primary {
      position: relative;
      overflow: hidden;
    }
    .cta-primary::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }
    .cta-primary:hover::after {
      left: 100%;
    }

    /* Urgency Banner */
    .urgency-banner {
      background: linear-gradient(90deg, #dc2626, #ea580c, #dc2626);
      background-size: 200% 100%;
      animation: gradientShift 3s ease infinite;
    }

    /* Trust Badge Glow */
    .trust-badge {
      transition: all 0.3s ease;
    }
    .trust-badge:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(251, 191, 36, 0.5);
    }

    /* Testimonial Highlight */
    .testimonial-card {
      position: relative;
    }
    .testimonial-card::before {
      content: '"';
      position: absolute;
      top: -10px;
      left: 20px;
      font-size: 80px;
      color: rgba(251, 191, 36, 0.2);
      font-family: Georgia, serif;
      line-height: 1;
    }
  </style>
  <!-- Analytics: Google Analytics 4 + Microsoft Clarity -->
  <script src="/analytics.js" defer></script>
</head>
<body class="bg-white dark:bg-navy-900 text-gray-800 dark:text-gray-200 transition-colors">

  <!-- SITE_NAV -->
<!-- Navigation -->
<nav class="fixed top-0 left-0 right-0 z-50 bg-navy-900/95 backdrop-blur-md border-b border-white/10">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <a href="../" class="text-white font-bold text-xl tracking-tight group">
        <span class="group-hover:text-gold-400 transition">Foropoulos</span><span class="text-gold-400">Now</span><span class="text-gray-400 text-sm">.com</span>
      </a>

      <div class="hidden md:flex items-center space-x-8">
        <a href="../#about" class="nav-link text-gray-300 hover:text-gold-400 transition" data-section="about">About</a>
        <a href="../#services" class="nav-link text-gray-300 hover:text-gold-400 transition" data-section="services">Services</a>
        <a href="../#journey" class="nav-link text-gray-300 hover:text-gold-400 transition" data-section="journey">Journey</a>

        <!-- Ventures Dropdown -->
        <div class="relative group">
          <button class="text-gray-300 hover:text-gold-400 transition flex items-center gap-1">
            Ventures
            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="absolute top-full left-0 mt-2 w-64 bg-navy-800 rounded-xl shadow-xl border border-white/10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
            <a href="../ventures/greek-fire-services" class="flex items-center gap-3 px-3 py-3 text-gray-300 hover:text-white hover:bg-gold-500/10 rounded-t-xl transition">
              <div class="w-10 h-10 bg-gradient-to-br from-gold-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"></path>
                </svg>
              </div>
              <div>
                <p class="font-semibold text-sm">Greek-Fire Services</p>
                <p class="text-xs text-gray-500">Business Consulting & AI</p>
              </div>
            </a>
            <a href="../ventures/gothabits" class="flex items-center gap-3 px-3 py-3 text-gray-300 hover:text-white hover:bg-amber-500/10 transition">
              <div class="w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center shadow-lg">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                </svg>
              </div>
              <div>
                <p class="font-semibold text-sm">gotHABITS</p>
                <p class="text-xs text-gray-500">Fitness & Nutrition Coaching</p>
              </div>
            </a>
            <a href="../ventures/shift-spotter-invest" class="flex items-center gap-3 px-3 py-3 text-gray-300 hover:text-white hover:bg-indigo-500/10 transition">
              <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <div>
                <p class="font-semibold text-sm">Shift Spotter</p>
                <p class="text-xs text-gray-500">Staffing Marketplace</p>
              </div>
            </a>
            <a href="../ventures/lookatmedia" class="flex items-center gap-3 px-3 py-3 text-gray-300 hover:text-white hover:bg-teal-500/10 rounded-b-xl transition">
              <div class="w-10 h-10 bg-gradient-to-br from-teal-500 to-emerald-600 rounded-lg flex items-center justify-center shadow-lg">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                </svg>
              </div>
              <div>
                <p class="font-semibold text-sm">Lookatmedia</p>
                <p class="text-xs text-gray-500">PR & Earned Media</p>
              </div>
            </a>
          </div>
        </div>

        <a href="../blog/" class="nav-link text-gray-300 hover:text-gold-400 transition ">Blog</a>

        <button id="dark-mode-toggle" class="dark-mode-toggle text-gray-300 hover:text-gold-400 p-2 rounded-lg hover:bg-white/10 transition" aria-label="Toggle dark mode">
          <svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
          </svg>
          <svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
          </svg>
        </button>

        <a href="https://cal.com/thesecretchief/strategy" target="_blank" class="bg-gold-500 hover:bg-gold-400 text-navy-900 font-semibold px-5 py-2 rounded-full transition transform hover:scale-105">Work With Me</a>
      </div>

      <!-- Mobile Menu Button -->
      <div class="flex items-center gap-2 md:hidden">
        <button id="dark-mode-toggle-mobile" class="dark-mode-toggle text-gray-300 hover:text-gold-400 p-2" aria-label="Toggle dark mode">
          <svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
          </svg>
          <svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
          </svg>
        </button>
        <button id="mobile-menu-btn" class="text-white p-2" aria-label="Open menu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Menu Overlay -->
<div id="menu-overlay" class="menu-overlay fixed inset-0 bg-black/50 z-40 md:hidden"></div>

<!-- Mobile Menu -->
<div id="mobile-menu" class="mobile-menu fixed top-0 right-0 bottom-0 w-80 max-w-full bg-navy-900 z-50 md:hidden">
  <div class="flex items-center justify-between p-4 border-b border-white/10">
    <span class="text-white font-bold">Menu</span>
    <button id="close-menu" class="text-white p-2" aria-label="Close menu">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>
  <div class="p-4 space-y-4">
    <a href="../#about" class="block text-gray-300 hover:text-gold-400 py-2 transition">About</a>
    <a href="../#services" class="block text-gray-300 hover:text-gold-400 py-2 transition">Services</a>
    <a href="../#journey" class="block text-gray-300 hover:text-gold-400 py-2 transition">Journey</a>
    <div class="border-t border-white/10 pt-4 mt-4">
      <p class="text-gray-500 text-sm mb-3">Ventures</p>
      <a href="../ventures/greek-fire-services" class="flex items-center gap-3 py-2 text-gray-300 hover:text-gold-400 transition">
        <div class="w-8 h-8 bg-gradient-to-br from-gold-500 to-orange-600 rounded-lg flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"></path>
          </svg>
        </div>
        Greek-Fire Services
      </a>
      <a href="../ventures/gothabits" class="flex items-center gap-3 py-2 text-gray-300 hover:text-amber-400 transition">
        <div class="w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
          </svg>
        </div>
        gotHABITS
      </a>
      <a href="../ventures/shift-spotter-invest" class="flex items-center gap-3 py-2 text-gray-300 hover:text-indigo-400 transition">
        <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
        </div>
        Shift Spotter
      </a>
      <a href="../ventures/lookatmedia" class="flex items-center gap-3 py-2 text-gray-300 hover:text-teal-400 transition">
        <div class="w-8 h-8 bg-gradient-to-br from-teal-500 to-emerald-600 rounded-lg flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
          </svg>
        </div>
        Lookatmedia
      </a>
    </div>
    <div class="border-t border-white/10 pt-4 mt-4">
      <a href="../blog/" class="block text-gray-300 hover:text-gold-400 py-2 transition">Blog</a>
    </div>
    <a href="https://cal.com/thesecretchief/strategy" target="_blank" class="block bg-gold-500 hover:bg-gold-400 text-navy-900 font-semibold px-5 py-3 rounded-full text-center transition mt-4">Work With Me</a>
  </div>
</div>

<!-- /SITE_NAV -->

  <!-- Urgency Banner -->
  <div class="urgency-banner text-white text-center py-3 text-sm font-semibold fixed top-16 left-0 right-0 z-40">
    <span class="animate-pulse inline-block mr-2">üî•</span>
    Limited Availability: Only accepting <span class="underline">5 new clients</span> this month
    <span class="animate-pulse inline-block ml-2">üî•</span>
  </div>

  <!-- Hero Section -->
  <section class="hero-gradient pt-36 pb-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <!-- Logo -->
          <div class="mb-8 animate-fade-in-up opacity-0">
            <img src="images/logo_GotHabits.png" alt="gotHABITS" class="h-24 sm:h-32 w-auto drop-shadow-2xl" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="hidden">
              <span class="text-4xl font-bold text-white">got<span class="text-amber-200">HABITS</span></span>
            </div>
          </div>

          <!-- Pain Point Hook -->
          <p class="text-amber-200 font-semibold mb-4 animate-fade-in-up opacity-0 delay-100">
            Tired of starting over every Monday?
          </p>

          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6 animate-fade-in-up opacity-0 delay-200">
            Finally Build Habits That <span class="text-amber-200 relative">Actually Stick
              <svg class="absolute -bottom-2 left-0 w-full" viewBox="0 0 200 12" preserveAspectRatio="none">
                <path d="M0,8 Q50,0 100,8 T200,8" stroke="#fbbf24" stroke-width="3" fill="none" opacity="0.6"/>
              </svg>
            </span>
          </h1>

          <p class="text-xl text-amber-100 mb-6 leading-relaxed animate-fade-in-up opacity-0 delay-300">
            Stop the endless cycle of crash diets and burnout workouts. Get a <strong>certified coach</strong> who builds sustainable habits around <em>your</em> life‚Äînot someone else's Instagram highlight reel.
          </p>

          <!-- Social Proof -->
          <div class="flex items-center gap-4 mb-8 animate-fade-in-up opacity-0 delay-400">
            <div class="flex -space-x-2">
              <div class="w-10 h-10 rounded-full bg-amber-200 flex items-center justify-center text-amber-700 font-bold text-sm border-2 border-white">JM</div>
              <div class="w-10 h-10 rounded-full bg-amber-300 flex items-center justify-center text-amber-800 font-bold text-sm border-2 border-white">SK</div>
              <div class="w-10 h-10 rounded-full bg-amber-400 flex items-center justify-center text-amber-900 font-bold text-sm border-2 border-white">AL</div>
            </div>
            <div class="text-white text-sm">
              <span class="font-bold">Join clients who've transformed</span><br>
              <span class="text-amber-200">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> <span class="text-amber-100">Results that last</span>
            </div>
          </div>

          <div class="flex flex-wrap gap-4 animate-fade-in-up opacity-0 delay-500">
            <a href="#contact" class="cta-primary bg-white hover:bg-amber-100 text-amber-700 font-bold px-8 py-4 rounded-full text-lg transition transform hover:scale-105 shadow-xl animate-pulse-glow">
              Start Your Transformation
            </a>
            <a href="#calculator" class="border-2 border-white/50 hover:border-white hover:bg-white/10 text-white font-semibold px-8 py-4 rounded-full text-lg transition flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
              </svg>
              Free BMR Calculator
            </a>
          </div>

          <!-- Trust Indicators -->
          <div class="mt-8 pt-6 border-t border-white/20 animate-fade-in-up opacity-0 delay-500">
            <p class="text-amber-200 text-sm mb-3">Trusted & Verified:</p>
            <div class="flex flex-wrap gap-3">
              <span class="bg-white/10 text-white text-xs px-3 py-1 rounded-full">NASM Certified</span>
              <span class="bg-white/10 text-white text-xs px-3 py-1 rounded-full">100% Personalized</span>
              <span class="bg-white/10 text-white text-xs px-3 py-1 rounded-full">Virtual & In-Person</span>
            </div>
          </div>
        </div>
        <div class="hidden lg:block">
          <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-8 border border-white/20">
            <h3 class="text-white font-bold text-xl mb-6 text-center">Verified Certifications</h3>
            <div class="space-y-4">
              <a href="https://credentials.nasm.org/3d6e58e9-6ba2-4b9d-bfee-7cf33eb78014" target="_blank" class="flex items-center justify-between bg-white/10 hover:bg-white/20 rounded-xl p-4 transition group">
                <div>
                  <p class="text-white font-semibold">NASM Certified Personal Trainer</p>
                  <p class="text-amber-200 text-sm">CPT Certification</p>
                </div>
                <span class="text-white group-hover:translate-x-1 transition-transform">&#8599;</span>
              </a>
              <a href="https://credentials.nasm.org/4ca822df-e8e0-4853-9255-1dd73a9aac6a#acc.fZzMYHPE" target="_blank" class="flex items-center justify-between bg-white/10 hover:bg-white/20 rounded-xl p-4 transition group">
                <div>
                  <p class="text-white font-semibold">Certified Nutrition Coach</p>
                  <p class="text-amber-200 text-sm">CNC Certification</p>
                </div>
                <span class="text-white group-hover:translate-x-1 transition-transform">&#8599;</span>
              </a>
              <a href="https://credentials.nasm.org/4ca822df-e8e0-4853-9255-1dd73a9aac6a#acc.L35K1WMF" target="_blank" class="flex items-center justify-between bg-white/10 hover:bg-white/20 rounded-xl p-4 transition group">
                <div>
                  <p class="text-white font-semibold">Corrective Exercise Specialist</p>
                  <p class="text-amber-200 text-sm">CES Certification</p>
                </div>
                <span class="text-white group-hover:translate-x-1 transition-transform">&#8599;</span>
              </a>
              <a href="https://credentials.nasm.org/c63e7a57-646d-42ef-9710-26904519df82" target="_blank" class="flex items-center justify-between bg-white/10 hover:bg-white/20 rounded-xl p-4 transition group">
                <div>
                  <p class="text-white font-semibold">Virtual Coaching Specialist</p>
                  <p class="text-amber-200 text-sm">VCS Certification</p>
                </div>
                <span class="text-white group-hover:translate-x-1 transition-transform">&#8599;</span>
              </a>
              <div class="flex items-center justify-between bg-red-500/30 rounded-xl p-4">
                <div>
                  <p class="text-white font-semibold">AHA BLS Provider</p>
                  <p class="text-red-200 text-sm">CPR/AED Certified</p>
                </div>
                <span class="text-red-200 text-2xl">&#10084;</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Problem Agitation Section -->
  <section class="py-16 bg-gray-900 text-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-2xl sm:text-3xl font-bold mb-8 reveal">Sound Familiar?</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white/5 rounded-xl p-6 reveal">
          <span class="text-4xl mb-4 block">üò§</span>
          <p class="text-gray-300">"I start strong but can't stay consistent"</p>
        </div>
        <div class="bg-white/5 rounded-xl p-6 reveal">
          <span class="text-4xl mb-4 block">ü§∑</span>
          <p class="text-gray-300">"I don't know what actually works for my body"</p>
        </div>
        <div class="bg-white/5 rounded-xl p-6 reveal">
          <span class="text-4xl mb-4 block">üò©</span>
          <p class="text-gray-300">"I've tried everything but nothing sticks"</p>
        </div>
        <div class="bg-white/5 rounded-xl p-6 reveal">
          <span class="text-4xl mb-4 block">‚è∞</span>
          <p class="text-gray-300">"I'm too busy to figure this out alone"</p>
        </div>
      </div>
      <p class="mt-10 text-xl text-amber-400 font-semibold reveal">You're not broken. You just need the right system.</p>
    </div>
  </section>

  <!-- Philosophy Section -->
  <section class="py-24 bg-white dark:bg-navy-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto text-center mb-16 reveal">
        <span class="inline-block bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-sm font-semibold px-4 py-2 rounded-full mb-4">THE gotHABITS DIFFERENCE</span>
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-6">Habits Over Hype. <span class="gradient-text">Results Over Promises.</span></h2>
        <p class="text-xl text-gray-600 dark:text-gray-300">
          Most programs sell you a fantasy. I sell you a system. One that works with your schedule, respects your preferences, and builds momentum you can actually feel.
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center card-hover bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-8 reveal">
          <div class="w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 animate-float">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Habit-Centered</h3>
          <p class="text-gray-600 dark:text-gray-300">Small, consistent actions compound into massive results. We build one sustainable habit at a time‚Äîno overwhelm.</p>
        </div>

        <div class="text-center card-hover bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-8">
          <div class="w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Individualized</h3>
          <p class="text-gray-600 dark:text-gray-300">No cookie-cutter programs. Every plan is tailored to your goals, schedule, and preferences.</p>
        </div>

        <div class="text-center card-hover bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-8">
          <div class="w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Accountable</h3>
          <p class="text-gray-600 dark:text-gray-300">Regular check-ins, progress tracking, and support to keep you on track when motivation fades.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Programs Section -->
  <section id="programs" class="py-24 bg-gray-50 dark:bg-navy-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <span class="inline-block bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-sm font-semibold px-4 py-2 rounded-full mb-4">PROGRAMS</span>
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">How I Can Help</h2>
        <p class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">Choose the level of support that fits your needs</p>
      </div>

      <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        <!-- Nutrition Coaching -->
        <div class="card-hover bg-white dark:bg-navy-700 rounded-2xl p-8 shadow-lg border border-gray-200 dark:border-gray-700">
          <div class="w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mb-6">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Nutrition Coaching</h3>
          <p class="text-gray-600 dark:text-gray-300 mb-6">Personalized nutrition guidance without restrictive diets. Learn to fuel your body for your goals.</p>
          <ul class="text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-6">
            <li class="flex items-center"><span class="text-green-500 mr-2">&#10003;</span> Macro/calorie guidance</li>
            <li class="flex items-center"><span class="text-green-500 mr-2">&#10003;</span> Meal planning support</li>
            <li class="flex items-center"><span class="text-green-500 mr-2">&#10003;</span> Weekly check-ins</li>
          </ul>
          <a href="https://cal.com/thesecretchief/nutrition" target="_blank" class="block w-full text-center py-3 px-6 border-2 border-amber-500 text-amber-600 dark:text-amber-400 font-semibold rounded-xl hover:bg-amber-500 hover:text-white transition">
            Book Nutrition Call
          </a>
        </div>

        <!-- Personal Training - Featured -->
        <div class="card-hover bg-amber-500 rounded-2xl p-8 shadow-xl relative transform md:-translate-y-4">
          <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
            <span class="bg-gray-900 text-white text-xs font-bold px-4 py-1 rounded-full uppercase">Most Popular</span>
          </div>
          <div class="w-14 h-14 bg-white rounded-xl flex items-center justify-center mb-6">
            <svg class="w-7 h-7 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-white mb-3">Personal Training</h3>
          <p class="text-amber-100 mb-6">Custom workout programming designed for your goals, equipment, and schedule.</p>
          <ul class="text-sm text-amber-100 space-y-2 mb-6">
            <li class="flex items-center"><span class="text-white mr-2">&#10003;</span> Custom workout plans</li>
            <li class="flex items-center"><span class="text-white mr-2">&#10003;</span> Video form checks</li>
            <li class="flex items-center"><span class="text-white mr-2">&#10003;</span> Progressive programming</li>
            <li class="flex items-center"><span class="text-white mr-2">&#10003;</span> Direct messaging support</li>
          </ul>
          <a href="https://cal.com/thesecretchief/train" target="_blank" class="block w-full text-center py-3 px-6 bg-white text-amber-600 font-bold rounded-xl hover:bg-amber-100 transition">
            Start Training
          </a>
        </div>

        <!-- Complete Coaching -->
        <div class="card-hover bg-white dark:bg-navy-700 rounded-2xl p-8 shadow-lg border border-gray-200 dark:border-gray-700">
          <div class="w-14 h-14 bg-purple-500 rounded-xl flex items-center justify-center mb-6">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Complete Coaching</h3>
          <p class="text-gray-600 dark:text-gray-300 mb-6">The full package: training + nutrition + accountability for maximum results.</p>
          <ul class="text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-6">
            <li class="flex items-center"><span class="text-purple-500 mr-2">&#10003;</span> Everything in both programs</li>
            <li class="flex items-center"><span class="text-purple-500 mr-2">&#10003;</span> Weekly video calls</li>
            <li class="flex items-center"><span class="text-purple-500 mr-2">&#10003;</span> Priority support</li>
          </ul>
          <a href="https://cal.com/thesecretchief/train" target="_blank" class="block w-full text-center py-3 px-6 border-2 border-amber-500 text-amber-600 dark:text-amber-400 font-semibold rounded-xl hover:bg-amber-500 hover:text-white transition">
            Book Coaching Call
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Free Virtual Workout Section -->
  <section class="py-16 bg-gradient-to-r from-gray-900 via-amber-900 to-gray-900 relative overflow-hidden">
    <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0djItSDI0di0yaDEyek0zNiAyNHYySDI0di0yaDEyeiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"></div>
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <div class="text-center">
        <span class="inline-block bg-green-500 text-white text-xs font-bold px-4 py-2 rounded-full mb-6 animate-pulse">FREE WHEN AVAILABLE</span>
        <h2 class="text-3xl sm:text-4xl font-bold text-white mb-4">Live Virtual Workout Sessions</h2>
        <p class="text-xl text-amber-200 mb-6 max-w-2xl mx-auto">
          Real training. Real coaching. Real results.
        </p>
        <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 md:p-8 border border-white/20 mb-8 max-w-2xl mx-auto">
          <p class="text-gray-200 text-lg leading-relaxed">
            Come ready to sweat and be coached. This is <strong class="text-amber-400">real training</strong> - not a walkthrough or Q&A. Expect work, accountability, and forward progress. <span class="text-amber-300">If you're not ready to do the work, this isn't the session for you.</span>
          </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a href="https://cal.com/thesecretchief/workout" target="_blank" class="bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold px-10 py-4 rounded-full text-lg transition transform hover:scale-105 shadow-xl">
            Join Free Session
          </a>
          <p class="text-gray-400 text-sm">Limited spots available each week</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Certifications Section -->
  <section class="py-20 bg-gradient-to-b from-white to-amber-50 dark:from-navy-900 dark:to-navy-800">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <span class="inline-block bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-sm font-semibold px-4 py-2 rounded-full mb-4">NASM CERTIFIED</span>
        <h3 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">Verified Certifications</h3>
        <p class="text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">Every credential is verifiable through NASM's official certification database. Click any card to verify.</p>
      </div>

      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- CPT -->
        <a href="https://credentials.nasm.org/3d6e58e9-6ba2-4b9d-bfee-7cf33eb78014" target="_blank" class="group bg-white dark:bg-navy-700 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-amber-100 dark:border-gray-700 hover:border-amber-300 dark:hover:border-amber-500 hover:-translate-y-1">
          <div class="w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 dark:text-white mb-1">Personal Trainer</h4>
          <p class="text-amber-600 dark:text-amber-400 text-sm font-medium mb-3">NASM-CPT</p>
          <div class="flex items-center text-gray-500 dark:text-gray-400 text-sm group-hover:text-amber-600 dark:group-hover:text-amber-400 transition">
            <span>Verify</span>
            <svg class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
            </svg>
          </div>
        </a>

        <!-- CNC -->
        <a href="https://credentials.nasm.org/4ca822df-e8e0-4853-9255-1dd73a9aac6a#acc.fZzMYHPE" target="_blank" class="group bg-white dark:bg-navy-700 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-amber-100 dark:border-gray-700 hover:border-amber-300 dark:hover:border-green-500 hover:-translate-y-1">
          <div class="w-14 h-14 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 dark:text-white mb-1">Nutrition Coach</h4>
          <p class="text-green-600 dark:text-green-400 text-sm font-medium mb-3">NASM-CNC</p>
          <div class="flex items-center text-gray-500 dark:text-gray-400 text-sm group-hover:text-green-600 dark:group-hover:text-green-400 transition">
            <span>Verify</span>
            <svg class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
            </svg>
          </div>
        </a>

        <!-- CES -->
        <a href="https://credentials.nasm.org/4ca822df-e8e0-4853-9255-1dd73a9aac6a#acc.L35K1WMF" target="_blank" class="group bg-white dark:bg-navy-700 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-amber-100 dark:border-gray-700 hover:border-amber-300 dark:hover:border-blue-500 hover:-translate-y-1">
          <div class="w-14 h-14 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 dark:text-white mb-1">Corrective Exercise</h4>
          <p class="text-blue-600 dark:text-blue-400 text-sm font-medium mb-3">NASM-CES</p>
          <div class="flex items-center text-gray-500 dark:text-gray-400 text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 transition">
            <span>Verify</span>
            <svg class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
            </svg>
          </div>
        </a>

        <!-- VCS -->
        <a href="https://credentials.nasm.org/c63e7a57-646d-42ef-9710-26904519df82" target="_blank" class="group bg-white dark:bg-navy-700 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-amber-100 dark:border-gray-700 hover:border-amber-300 dark:hover:border-purple-500 hover:-translate-y-1">
          <div class="w-14 h-14 bg-gradient-to-br from-purple-400 to-violet-500 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 dark:text-white mb-1">Virtual Coaching</h4>
          <p class="text-purple-600 dark:text-purple-400 text-sm font-medium mb-3">NASM-VCS</p>
          <div class="flex items-center text-gray-500 dark:text-gray-400 text-sm group-hover:text-purple-600 dark:group-hover:text-purple-400 transition">
            <span>Verify</span>
            <svg class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
            </svg>
          </div>
        </a>
      </div>

      <!-- BLS Badge -->
      <div class="mt-8 flex justify-center">
        <div class="inline-flex items-center gap-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-full px-6 py-3">
          <span class="text-2xl">‚ù§Ô∏è</span>
          <div>
            <p class="font-semibold text-gray-900 dark:text-white">AHA BLS Provider</p>
            <p class="text-red-600 dark:text-red-400 text-sm">CPR/AED Certified</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Supplements Section - 1st Phorm -->
  <section id="supplements" class="py-24 bg-gray-50 dark:bg-navy-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <span class="inline-block bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 text-sm font-semibold px-4 py-2 rounded-full mb-4">1ST PHORM LEGIONNAIRE</span>
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">Supplements I Trust</h2>
        <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
          As a 1st Phorm Legionnaire, I exclusively recommend their products because I believe in their quality. Here's why:
        </p>
      </div>

      <!-- Why 1st Phorm -->
      <div class="grid md:grid-cols-4 gap-6 mb-16">
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 text-center shadow-sm border border-gray-100 dark:border-gray-700">
          <div class="w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-6 h-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 dark:text-white mb-2">110% Money-Back Guarantee</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">Not satisfied? Return unused portion within 30 days for 110% refund.</p>
        </div>
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 text-center shadow-sm border border-gray-100 dark:border-gray-700">
          <div class="w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-6 h-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 dark:text-white mb-2">FDA SQF Level 3 Facility</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">The gold standard for manufacturing‚Äîproduced in their St. Louis facility.</p>
        </div>
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 text-center shadow-sm border border-gray-100 dark:border-gray-700">
          <div class="w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-6 h-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 dark:text-white mb-2">NSF Certified for Sport</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">Third-party tested. No banned substances. What's on the label is what's inside.</p>
        </div>
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 text-center shadow-sm border border-gray-100 dark:border-gray-700">
          <div class="w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-6 h-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 dark:text-white mb-2">Made in the USA</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">Premium ingredients sourced globally, manufactured right here in America.</p>
        </div>
      </div>

      <!-- Must-Have Training Stack -->
      <div class="stack-container bg-gradient-to-br from-red-600 via-red-700 to-red-800 rounded-3xl p-8 md:p-12 mb-12 animate-gradient" style="background-size: 200% 200%;">
        <div class="text-center mb-8">
          <h3 class="text-2xl md:text-3xl font-bold text-white mb-2 animate-pulse" style="animation: none; text-shadow: 0 0 30px rgba(255,255,255,0.3);">My Must-Have Training Stack</h3>
          <p class="text-red-100 text-lg">The essentials I recommend for anyone serious about their fitness journey</p>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4" id="stack-grid">
          <!-- Multivitamin Selector -->
          <div class="relative stack-card rounded-xl" id="multi-selector">
            <button onclick="toggleDropdown('multi-dropdown')" class="w-full bg-white/10 rounded-xl p-4 text-center transition-all">
              <span class="text-3xl mb-2 emoji block">üíä</span>
              <span class="text-white font-semibold text-sm card-label block">Multivitamins</span>
              <span class="text-white/60 text-xs block mt-1">Tap to choose</span>
            </button>
            <div id="multi-dropdown" class="hidden absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl z-50 overflow-hidden">
              <a href="https://1stphorm.com/products/m-factor-men/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition border-b border-gray-100">
                <span class="font-semibold">M-Factor Men</span>
                <span class="text-xs text-gray-500 block">Complete men's formula</span>
              </a>
              <a href="https://1stphorm.com/products/m-factor-goddess/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition">
                <span class="font-semibold">M-Factor Goddess</span>
                <span class="text-xs text-gray-500 block">Complete women's formula</span>
              </a>
            </div>
          </div>
          <a href="https://1stphorm.com/products/full-mega/?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">üêü</span>
            <span class="text-white font-semibold text-sm card-label">Fish Oil</span>
          </a>
          <a href="https://1stphorm.com/products/cla/?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">üî•</span>
            <span class="text-white font-semibold text-sm card-label">CLA</span>
          </a>
          <a href="https://1stphorm.com/products/core-21/?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">üò¥</span>
            <span class="text-white font-semibold text-sm card-label">Core-21</span>
          </a>
          <a href="https://1stphorm.com/products/glutamine?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">üí™</span>
            <span class="text-white font-semibold text-sm card-label">Glutamine</span>
          </a>
          <a href="https://1stphorm.com/products/micronized-creatine-monohydrate?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">‚ö°</span>
            <span class="text-white font-semibold text-sm card-label">Creatine</span>
          </a>
          <a href="https://1stphorm.com/products/collagen-with-dermaval/?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">‚ú®</span>
            <span class="text-white font-semibold text-sm card-label">Collagen</span>
          </a>
          <a href="https://1stphorm.com/collections/protein-bars/?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">üç´</span>
            <span class="text-white font-semibold text-sm card-label">Protein Bars</span>
          </a>
          <a href="https://1stphorm.com/products/bcaa?a_aid=gotHABITS" target="_blank" class="stack-card bg-white/10 rounded-xl p-4 text-center">
            <span class="text-3xl mb-2 emoji">üß¨</span>
            <span class="text-white font-semibold text-sm card-label">BCAAs</span>
          </a>
          <!-- Protein Selector -->
          <div class="relative stack-card rounded-xl" id="protein-selector">
            <button onclick="toggleDropdown('protein-dropdown')" class="w-full bg-white/10 rounded-xl p-4 text-center transition-all">
              <span class="text-3xl mb-2 emoji block">ü•§</span>
              <span class="text-white font-semibold text-sm card-label block">Protein Powders</span>
              <span class="text-white/60 text-xs block mt-1">Tap to choose</span>
            </button>
            <div id="protein-dropdown" class="hidden absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl z-50 overflow-hidden min-w-[200px]">
              <a href="https://1stphorm.com/products/phormula-1/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition border-b border-gray-100">
                <span class="font-semibold">Phormula-1</span>
                <span class="text-xs text-gray-500 block">Fast-absorbing whey isolate</span>
              </a>
              <a href="https://1stphorm.com/products/phormula-1-natural/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition border-b border-gray-100">
                <span class="font-semibold">Phormula-1 Natural</span>
                <span class="text-xs text-gray-500 block">No artificial sweeteners</span>
              </a>
              <a href="https://1stphorm.com/products/phormula-1-clear/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition border-b border-gray-100">
                <span class="font-semibold">Phormula-1 Clear</span>
                <span class="text-xs text-gray-500 block">Light &amp; refreshing</span>
              </a>
              <a href="https://1stphorm.com/products/level-1/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition border-b border-gray-100">
                <span class="font-semibold">Level-1</span>
                <span class="text-xs text-gray-500 block">Meal replacement protein</span>
              </a>
              <a href="https://1stphorm.com/products/vegan-power-pro/?a_aid=gotHABITS" target="_blank" class="block px-4 py-3 text-gray-700 hover:bg-red-50 hover:text-red-600 transition">
                <span class="font-semibold">Vegan Power Pro</span>
                <span class="text-xs text-gray-500 block">Plant-based protein</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Product Categories -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Post-Workout & Protein -->
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
          <h4 class="font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-xl">üçπ</span> Post-Workout & Protein
          </h4>
          <div class="space-y-2 text-sm">
            <a href="https://1stphorm.com/products/phormula-1/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Phormula-1 ‚Üí</a>
            <a href="https://1stphorm.com/products/phormula-1-natural/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Phormula-1 Natural ‚Üí</a>
            <a href="https://1stphorm.com/products/phormula-1-clear/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Phormula-1 Clear ‚Üí</a>
            <a href="https://1stphorm.com/products/level-1/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Level-1 (Meal Replacement) ‚Üí</a>
            <a href="https://1stphorm.com/products/vegan-power-pro/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Vegan Power Pro ‚Üí</a>
            <a href="https://1stphorm.com/products/power-pro-bar/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Power Pro Bars ‚Üí</a>
          </div>
        </div>

        <!-- Aminos & Recovery -->
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
          <h4 class="font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-xl">üßÉ</span> Aminos & Recovery
          </h4>
          <div class="space-y-2 text-sm">
            <a href="https://1stphorm.com/products/essential-amino-acids/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Essential Amino Acids ‚Üí</a>
            <a href="https://1stphorm.com/products/bcaa?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">BCAAs ‚Üí</a>
            <a href="https://1stphorm.com/products/glutamine?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Glutamine ‚Üí</a>
          </div>
        </div>

        <!-- Daily Vitamins -->
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
          <h4 class="font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-xl">ü•§</span> Daily Vitamins & Health
          </h4>
          <div class="space-y-2 text-sm">
            <a href="https://1stphorm.com/products/m-factor-men/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">M-Factor Men ‚Üí</a>
            <a href="https://1stphorm.com/products/m-factor-goddess/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">M-Factor Goddess ‚Üí</a>
            <a href="https://1stphorm.com/products/complete-health-stack/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Complete Health Stack ‚Üí</a>
            <a href="https://1stphorm.com/products/probiotic/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Probiotic ‚Üí</a>
            <a href="https://1stphorm.com/products/liposomal-vitamin-d3/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Vitamin D3 ‚Üí</a>
          </div>
        </div>

        <!-- Greens & Superfoods -->
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
          <h4 class="font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-xl">ü•¶</span> Greens & Superfoods
          </h4>
          <div class="space-y-2 text-sm">
            <a href="https://1stphorm.com/products/opti-greens-50/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Opti-Greens 50 ‚Üí</a>
            <a href="https://1stphorm.com/products/opti-reds-50/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Opti-Reds 50 ‚Üí</a>
            <a href="https://1stphorm.com/products/opti-health-stack/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Opti-Health Stack ‚Üí</a>
          </div>
        </div>

        <!-- Pre-Workout & Performance -->
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
          <h4 class="font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-xl">üèãÔ∏è</span> Pre-Workout & Performance
          </h4>
          <div class="space-y-2 text-sm">
            <a href="https://1stphorm.com/products/project-1/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Project-1 ‚Üí</a>
            <a href="https://1stphorm.com/products/megawatt-natural/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Megawatt Natural ‚Üí</a>
            <a href="https://1stphorm.com/products/alphasurge/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">AlphaSurge ‚Üí</a>
            <a href="https://1stphorm.com/products/micronized-creatine-monohydrate?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Creatine Monohydrate ‚Üí</a>
          </div>
        </div>

        <!-- Sleep & Stress -->
        <div class="bg-white dark:bg-navy-700 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700">
          <h4 class="font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-xl">üß¨</span> Sleep & Stress Support
          </h4>
          <div class="space-y-2 text-sm">
            <a href="https://1stphorm.com/products/core-21/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Core-21 ‚Üí</a>
            <a href="https://1stphorm.com/products/adrenal-restore?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Adrenal Restore ‚Üí</a>
            <a href="https://1stphorm.com/products/harmony/?a_aid=gotHABITS" target="_blank" class="block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition">Harmony ‚Üí</a>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="mt-12 text-center">
        <a href="https://1stphorm.com/?a_aid=gotHABITS" target="_blank" class="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-bold px-8 py-4 rounded-full text-lg transition transform hover:scale-105">
          Shop All 1st Phorm Products
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
        </a>
        <p class="text-gray-500 dark:text-gray-400 text-sm mt-4">Free shipping on orders over $75 | 110% money-back guarantee</p>
      </div>
    </div>
  </section>

  <!-- BMR Calculator Section -->
  <section id="calculator" class="py-24 bg-white dark:bg-navy-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <span class="inline-block bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-sm font-semibold px-4 py-2 rounded-full mb-4">FREE TOOL</span>
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">BMR & Calorie Calculator</h2>
        <p class="text-xl text-gray-600 dark:text-gray-300">Know your numbers. Calculate your Basal Metabolic Rate and daily calorie needs.</p>
      </div>

      <div class="bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-navy-800 dark:to-navy-800 rounded-3xl p-8 border border-purple-100 dark:border-purple-900/30">
        <div class="grid md:grid-cols-2 gap-8">
          <!-- Input Section -->
          <div class="space-y-5">
            <!-- Gender -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2">Gender</label>
              <div class="flex gap-3">
                <button type="button" onclick="setGender('male')" id="btn-male" class="flex-1 py-3 px-4 rounded-xl border-2 border-purple-500 bg-purple-500 text-white font-semibold transition">Male</button>
                <button type="button" onclick="setGender('female')" id="btn-female" class="flex-1 py-3 px-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-600 dark:text-gray-300 font-semibold hover:border-purple-300 dark:hover:border-purple-500 transition">Female</button>
              </div>
            </div>

            <!-- Age -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2">Age</label>
              <input type="number" id="calc-age" value="30" min="15" max="100" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-lg" oninput="calculateBMR()">
            </div>

            <!-- Height -->
            <div>
              <div class="flex justify-between items-center mb-2">
                <label class="text-sm font-semibold text-gray-700 dark:text-gray-200">Height</label>
                <button type="button" onclick="toggleHeightUnit()" id="height-unit-btn" class="text-xs text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium">Switch to cm</button>
              </div>
              <div id="height-imperial" class="flex gap-3">
                <div class="flex-1">
                  <input type="number" id="calc-feet" value="5" min="3" max="8" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-lg" oninput="calculateBMR()">
                  <span class="text-xs text-gray-500 dark:text-gray-400 mt-1 block text-center">feet</span>
                </div>
                <div class="flex-1">
                  <input type="number" id="calc-inches" value="10" min="0" max="11" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-lg" oninput="calculateBMR()">
                  <span class="text-xs text-gray-500 dark:text-gray-400 mt-1 block text-center">inches</span>
                </div>
              </div>
              <div id="height-metric" class="hidden">
                <input type="number" id="calc-cm" value="178" min="100" max="250" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-lg" oninput="calculateBMR()">
                <span class="text-xs text-gray-500 dark:text-gray-400 mt-1 block text-center">centimeters</span>
              </div>
            </div>

            <!-- Weight -->
            <div>
              <div class="flex justify-between items-center mb-2">
                <label class="text-sm font-semibold text-gray-700 dark:text-gray-200">Weight</label>
                <button type="button" onclick="toggleWeightUnit()" id="weight-unit-btn" class="text-xs text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium">Switch to kg</button>
              </div>
              <div id="weight-imperial">
                <input type="number" id="calc-lbs" value="180" min="80" max="500" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-lg" oninput="calculateBMR()">
                <span class="text-xs text-gray-500 dark:text-gray-400 mt-1 block text-center">pounds</span>
              </div>
              <div id="weight-metric" class="hidden">
                <input type="number" id="calc-kg" value="82" min="30" max="250" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-lg" oninput="calculateBMR()">
                <span class="text-xs text-gray-500 dark:text-gray-400 mt-1 block text-center">kilograms</span>
              </div>
            </div>

            <!-- Activity Level -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2">Activity Level</label>
              <select id="calc-activity" class="w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-navy-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition text-base" onchange="calculateBMR()">
                <option value="1.2">Sedentary (office job, little exercise)</option>
                <option value="1.375">Light (exercise 1-3 days/week)</option>
                <option value="1.55" selected>Moderate (exercise 3-5 days/week)</option>
                <option value="1.725">Active (exercise 6-7 days/week)</option>
                <option value="1.9">Very Active (athlete, physical job)</option>
              </select>
            </div>
          </div>

          <!-- Results Section -->
          <div class="bg-white dark:bg-navy-800 rounded-2xl p-6 shadow-sm border border-purple-100 dark:border-purple-900/30">
            <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Your Results</h3>

            <div class="space-y-4">
              <!-- BMR -->
              <div class="bg-gray-50 dark:bg-navy-700 rounded-xl p-4">
                <div class="text-sm text-gray-500 dark:text-gray-400 mb-1">Basal Metabolic Rate (BMR)</div>
                <div class="text-3xl font-bold text-gray-900 dark:text-white"><span id="result-bmr">1,800</span> <span class="text-lg font-normal text-gray-500 dark:text-gray-400">cal/day</span></div>
                <div class="text-xs text-gray-400 dark:text-gray-500 mt-1">Calories burned at complete rest</div>
              </div>

              <!-- TDEE -->
              <div class="bg-purple-100 dark:bg-purple-900/30 rounded-xl p-4">
                <div class="text-sm text-purple-700 dark:text-purple-300 mb-1">Maintenance Calories (TDEE)</div>
                <div class="text-3xl font-bold text-purple-900 dark:text-purple-100"><span id="result-tdee">2,790</span> <span class="text-lg font-normal text-purple-600 dark:text-purple-400">cal/day</span></div>
                <div class="text-xs text-purple-500 dark:text-purple-400 mt-1">To maintain current weight</div>
              </div>

              <!-- Goals -->
              <div class="grid grid-cols-2 gap-3">
                <div class="bg-green-50 dark:bg-green-900/20 rounded-xl p-4 text-center">
                  <div class="text-xs text-green-600 dark:text-green-400 mb-1">Fat Loss</div>
                  <div class="text-xl font-bold text-green-700 dark:text-green-300"><span id="result-deficit">2,290</span></div>
                  <div class="text-xs text-green-500 dark:text-green-400">-500 cal</div>
                </div>
                <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center">
                  <div class="text-xs text-blue-600 dark:text-blue-400 mb-1">Muscle Gain</div>
                  <div class="text-xl font-bold text-blue-700 dark:text-blue-300"><span id="result-surplus">3,090</span></div>
                  <div class="text-xs text-blue-500 dark:text-blue-400">+300 cal</div>
                </div>
              </div>

              <!-- Protein -->
              <div class="bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4">
                <div class="text-sm text-amber-700 dark:text-amber-300 mb-1">Protein Target</div>
                <div class="text-2xl font-bold text-amber-900 dark:text-amber-200"><span id="result-protein">144-180</span>g <span class="text-sm font-normal text-amber-600 dark:text-amber-400">per day</span></div>
                <div class="text-xs text-amber-500 dark:text-amber-400 mt-1">0.8-1g per lb of body weight</div>
              </div>
            </div>

            <p class="text-xs text-gray-400 mt-4 text-center">Uses the Mifflin-St Jeor equation for accuracy</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Lead Magnet Section -->
  <section class="py-24 bg-gradient-to-br from-amber-500 via-amber-500 to-orange-500 relative overflow-hidden">
    <div class="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full filter blur-3xl"></div>
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <div class="text-center">
        <span class="inline-block bg-white/20 text-white text-xs font-bold px-3 py-1 rounded-full mb-6">FREE GUIDE</span>
        <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6">Habit Kickstart Guide</h2>
        <p class="text-xl text-amber-100 mb-8 max-w-2xl mx-auto">
          Build sustainable fitness and nutrition habits that actually stick. Start your transformation today.
        </p>

        <ul class="flex flex-wrap justify-center gap-6 mb-10 text-amber-100">
          <li class="flex items-center gap-2">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            7-day habit framework
          </li>
          <li class="flex items-center gap-2">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            Simple nutrition guide
          </li>
          <li class="flex items-center gap-2">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            Accountability tracker
          </li>
        </ul>

        <form class="max-w-md mx-auto flex flex-col sm:flex-row gap-3" action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
          <input type="hidden" name="lead_type" value="gothabits">
          <input type="email" name="email" required
            class="flex-1 px-4 py-3 bg-white/20 border border-white/30 rounded-xl text-white placeholder-amber-100 focus:ring-2 focus:ring-white focus:border-white transition"
            placeholder="Enter your email">
          <button type="submit"
            class="bg-white hover:bg-amber-100 text-amber-700 font-bold py-3 px-6 rounded-xl transition transform hover:scale-105">
            Get the Guide
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-24 bg-white dark:bg-navy-900 relative overflow-hidden">
    <!-- Background decoration -->
    <div class="absolute top-0 left-0 w-72 h-72 bg-amber-100 dark:bg-amber-900/20 rounded-full filter blur-3xl opacity-50"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-orange-100 dark:bg-orange-900/20 rounded-full filter blur-3xl opacity-50"></div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10 reveal">
      <span class="inline-block bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-sm font-bold px-4 py-2 rounded-full mb-6">LIMITED SPOTS AVAILABLE</span>
      <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-6">Your Transformation Starts With One Conversation</h2>
      <p class="text-xl text-gray-600 dark:text-gray-300 mb-6 leading-relaxed">
        Book your <strong>free 15-minute consultation</strong>. We'll talk about your goals, your struggles, and whether gotHABITS is right for you. No pressure, no sales pitch‚Äîjust straight answers.
      </p>

      <!-- What You Get -->
      <div class="grid sm:grid-cols-3 gap-6 mb-10 text-left">
        <div class="bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4">
          <span class="text-2xl mb-2 block">üéØ</span>
          <p class="text-gray-700 dark:text-white font-semibold">Goal Assessment</p>
          <p class="text-gray-500 dark:text-gray-400 text-sm">Get clarity on what you really want</p>
        </div>
        <div class="bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4">
          <span class="text-2xl mb-2 block">üó∫Ô∏è</span>
          <p class="text-gray-700 dark:text-white font-semibold">Custom Roadmap</p>
          <p class="text-gray-500 dark:text-gray-400 text-sm">See the path to your transformation</p>
        </div>
        <div class="bg-amber-50 dark:bg-amber-900/20 rounded-xl p-4">
          <span class="text-2xl mb-2 block">üí°</span>
          <p class="text-gray-700 dark:text-white font-semibold">Expert Advice</p>
          <p class="text-gray-500 dark:text-gray-400 text-sm">Get actionable tips you can use today</p>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="https://cal.com/thesecretchief/nutrition" target="_blank" class="cta-primary bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-bold px-10 py-5 rounded-full text-lg transition transform hover:scale-105 shadow-xl animate-pulse-glow">
          Book Free Consultation ‚Üí
        </a>
      </div>

      <p class="mt-6 text-gray-500 dark:text-gray-400 text-sm">
        <span class="text-green-600 dark:text-green-400 font-semibold">‚úì Free</span> ‚Ä¢ <span class="text-green-600 dark:text-green-400 font-semibold">‚úì No obligation</span> ‚Ä¢ <span class="text-green-600 dark:text-green-400 font-semibold">‚úì 15 minutes</span>
      </p>
    </div>
  </section>

  <!-- Back to Top Button -->
  <button id="back-to-top" class="fixed bottom-8 right-8 z-40 bg-amber-500 hover:bg-amber-400 text-gray-900 p-3 rounded-full shadow-lg transition transform hover:scale-110" aria-label="Back to top">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
  </button>

  <!-- Footer -->
  <footer class="bg-gray-900 border-t border-white/10 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-3 gap-8 items-center">
        <div>
          <img src="images/logo_GotHabits.png" alt="gotHABITS" class="h-12 w-auto mb-2" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
          <a href="#" class="hidden text-white font-bold text-xl">got<span class="text-amber-400">HABITS</span></a>
          <p class="text-gray-400 mt-2">Personal Training & Nutrition Coaching</p>
        </div>
        <div class="text-center">
          <p class="text-gray-400">Part of</p>
          <a href="../" class="text-amber-400 hover:text-amber-300 font-medium">ForopoulosNow.com</a>
        </div>
        <div class="text-center md:text-right">
          <p class="text-gray-400">&copy; 2026 Greek-Fire Corporation</p>
          <p class="text-gray-500 text-sm">NASM Certified Personal Trainer</p>
        </div>
      </div>
    </div>
  
    <!-- Legal Links -->
<div class="mt-8 pt-6 border-t border-white/10 flex flex-wrap justify-center gap-4 text-sm">
  <button id="cookie-settings-btn" class="text-gray-500 hover:text-gold-400 transition">Cookie Settings</button>
  <span class="text-gray-600">|</span>
  <a href="../privacy" class="text-gray-500 hover:text-gold-400 transition">Privacy Policy</a>
</div>
  </footer>

  <script>
    // Mobile menu toggle
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const closeMenuBtn = document.getElementById('close-menu');
    const mobileMenu = document.getElementById('mobile-menu');

    if (mobileMenuBtn) mobileMenuBtn.addEventListener('click', () => {
      if (mobileMenu) mobileMenu.classList.add('open');
    });

    if (closeMenuBtn) closeMenuBtn.addEventListener('click', () => {
      if (mobileMenu) mobileMenu.classList.remove('open');
    });

    // Note: Dark mode toggle is handled by SHARED_SCRIPTS - do not duplicate here

    // Product dropdown toggles
    function toggleDropdown(id) {
      const dropdown = document.getElementById(id);
      const selector = dropdown.parentElement;
      const allDropdowns = document.querySelectorAll('#multi-dropdown, #protein-dropdown');
      const allSelectors = document.querySelectorAll('#multi-selector, #protein-selector');

      // Close other dropdowns and remove their open class
      allDropdowns.forEach(d => {
        if (d.id !== id) {
          d.classList.add('hidden');
          d.parentElement.classList.remove('dropdown-open');
        }
      });

      // Toggle this dropdown
      dropdown.classList.toggle('hidden');
      selector.classList.toggle('dropdown-open', !dropdown.classList.contains('hidden'));
    }

    // Close dropdowns when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('#multi-selector') && !e.target.closest('#protein-selector')) {
        document.querySelectorAll('#multi-dropdown, #protein-dropdown').forEach(d => {
          d.classList.add('hidden');
        });
        document.querySelectorAll('#multi-selector, #protein-selector').forEach(s => {
          s.classList.remove('dropdown-open');
        });
      }
    });

    // BMR Calculator
    let calcGender = 'male';
    let heightUnit = 'imperial';
    let weightUnit = 'imperial';

    function setGender(gender) {
      calcGender = gender;
      const maleBtn = document.getElementById('btn-male');
      const femaleBtn = document.getElementById('btn-female');
      const activeClasses = ['border-purple-500', 'bg-purple-500', 'text-white'];
      const inactiveClasses = ['border-gray-200', 'dark:border-gray-600', 'bg-white', 'dark:bg-navy-700', 'text-gray-600', 'dark:text-gray-300'];
      if (gender === 'male') {
        activeClasses.forEach(c => maleBtn.classList.add(c));
        inactiveClasses.forEach(c => maleBtn.classList.remove(c));
        activeClasses.forEach(c => femaleBtn.classList.remove(c));
        inactiveClasses.forEach(c => femaleBtn.classList.add(c));
      } else {
        activeClasses.forEach(c => femaleBtn.classList.add(c));
        inactiveClasses.forEach(c => femaleBtn.classList.remove(c));
        activeClasses.forEach(c => maleBtn.classList.remove(c));
        inactiveClasses.forEach(c => maleBtn.classList.add(c));
      }
      calculateBMR();
    }

    function toggleHeightUnit() {
      const imperial = document.getElementById('height-imperial');
      const metric = document.getElementById('height-metric');
      const btn = document.getElementById('height-unit-btn');
      if (heightUnit === 'imperial') {
        heightUnit = 'metric';
        imperial.classList.add('hidden');
        metric.classList.remove('hidden');
        btn.textContent = 'Switch to ft/in';
        // Convert current value
        const feet = parseFloat(document.getElementById('calc-feet').value) || 5;
        const inches = parseFloat(document.getElementById('calc-inches').value) || 10;
        document.getElementById('calc-cm').value = Math.round((feet * 12 + inches) * 2.54);
      } else {
        heightUnit = 'imperial';
        metric.classList.add('hidden');
        imperial.classList.remove('hidden');
        btn.textContent = 'Switch to cm';
        // Convert current value
        const cm = parseFloat(document.getElementById('calc-cm').value) || 178;
        const totalInches = cm / 2.54;
        document.getElementById('calc-feet').value = Math.floor(totalInches / 12);
        document.getElementById('calc-inches').value = Math.round(totalInches % 12);
      }
      calculateBMR();
    }

    function toggleWeightUnit() {
      const imperial = document.getElementById('weight-imperial');
      const metric = document.getElementById('weight-metric');
      const btn = document.getElementById('weight-unit-btn');
      if (weightUnit === 'imperial') {
        weightUnit = 'metric';
        imperial.classList.add('hidden');
        metric.classList.remove('hidden');
        btn.textContent = 'Switch to lbs';
        const lbs = parseFloat(document.getElementById('calc-lbs').value) || 180;
        document.getElementById('calc-kg').value = Math.round(lbs * 0.453592);
      } else {
        weightUnit = 'imperial';
        metric.classList.add('hidden');
        imperial.classList.remove('hidden');
        btn.textContent = 'Switch to kg';
        const kg = parseFloat(document.getElementById('calc-kg').value) || 82;
        document.getElementById('calc-lbs').value = Math.round(kg * 2.20462);
      }
      calculateBMR();
    }

    function calculateBMR() {
      // Get values
      const age = parseFloat(document.getElementById('calc-age').value) || 30;
      const activity = parseFloat(document.getElementById('calc-activity').value) || 1.55;

      // Get height in cm
      let heightCm;
      if (heightUnit === 'imperial') {
        const feet = parseFloat(document.getElementById('calc-feet').value) || 5;
        const inches = parseFloat(document.getElementById('calc-inches').value) || 10;
        heightCm = (feet * 12 + inches) * 2.54;
      } else {
        heightCm = parseFloat(document.getElementById('calc-cm').value) || 178;
      }

      // Get weight in kg
      let weightKg, weightLbs;
      if (weightUnit === 'imperial') {
        weightLbs = parseFloat(document.getElementById('calc-lbs').value) || 180;
        weightKg = weightLbs * 0.453592;
      } else {
        weightKg = parseFloat(document.getElementById('calc-kg').value) || 82;
        weightLbs = weightKg * 2.20462;
      }

      // Mifflin-St Jeor Equation
      let bmr;
      if (calcGender === 'male') {
        bmr = (10 * weightKg) + (6.25 * heightCm) - (5 * age) + 5;
      } else {
        bmr = (10 * weightKg) + (6.25 * heightCm) - (5 * age) - 161;
      }

      const tdee = bmr * activity;
      const deficit = tdee - 500;
      const surplus = tdee + 300;
      const proteinLow = Math.round(weightLbs * 0.8);
      const proteinHigh = Math.round(weightLbs * 1);

      // Update display
      document.getElementById('result-bmr').textContent = Math.round(bmr).toLocaleString();
      document.getElementById('result-tdee').textContent = Math.round(tdee).toLocaleString();
      document.getElementById('result-deficit').textContent = Math.round(deficit).toLocaleString();
      document.getElementById('result-surplus').textContent = Math.round(surplus).toLocaleString();
      document.getElementById('result-protein').textContent = proteinLow + '-' + proteinHigh;
    }

    // Initialize calculator on page load
    document.addEventListener('DOMContentLoaded', calculateBMR);

    // Scroll Reveal Animation
    function revealOnScroll() {
      const reveals = document.querySelectorAll('.reveal');
      reveals.forEach(el => {
        const windowHeight = window.innerHeight;
        const revealTop = el.getBoundingClientRect().top;
        const revealPoint = 150;
        if (revealTop < windowHeight - revealPoint) {
          el.classList.add('active');
        }
      });
    }
    window.addEventListener('scroll', revealOnScroll);
    window.addEventListener('load', revealOnScroll);

    // Animated Counter for Stats
    function animateCounters() {
      const counters = document.querySelectorAll('.counter');
      counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const duration = 2000;
        const step = target / (duration / 16);
        let current = 0;
        const timer = setInterval(() => {
          current += step;
          if (current >= target) {
            counter.textContent = target.toLocaleString();
            clearInterval(timer);
          } else {
            counter.textContent = Math.floor(current).toLocaleString();
          }
        }, 16);
      });
    }

    // Trigger counter animation when in view
    const observerOptions = { threshold: 0.5 };
    const counterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounters();
          counterObserver.disconnect();
        }
      });
    }, observerOptions);
    const statsSection = document.querySelector('.stats-section');
    if (statsSection) counterObserver.observe(statsSection);

    // Back to Top Button
    const backToTop = document.getElementById('back-to-top');
    function updateBackToTop() {
      if (window.scrollY > 500) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }
    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    window.addEventListener('scroll', updateBackToTop);
    updateBackToTop();
  </script>
<!-- MUSIC_PLAYER -->
<!-- Ambient Music Player -->
<div id="music-player" class="fixed bottom-8 left-8 z-[60] opacity-0 translate-y-4 transition-all duration-500">
  <!-- Expanded Player Panel -->
  <div id="music-panel" class="hidden mb-3 bg-navy-900/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 overflow-hidden w-72">
    <!-- Track Visualizer Header -->
    <div class="relative h-24 bg-gradient-to-br from-gold-500/20 via-purple-500/20 to-blue-500/20 overflow-hidden">
      <div id="music-visualizer" class="absolute inset-0 flex items-end justify-center gap-1 px-4 pb-2"></div>
      <div class="absolute inset-0 bg-gradient-to-t from-navy-900/90 to-transparent"></div>
      <div class="absolute bottom-2 left-4 right-4">
        <p id="music-track-name" class="text-white font-semibold text-sm truncate">Select a track</p>
        <p id="music-track-artist" class="text-gray-400 text-xs truncate">Ambient Soundscapes</p>
      </div>
    </div>

    <!-- Track Selector -->
    <div class="p-4 border-b border-white/10">
      <label class="text-gray-400 text-xs block mb-2">Atmosphere</label>
      <select id="music-track-select" class="w-full bg-navy-800 text-white text-sm rounded-lg px-3 py-2.5 border border-white/10 focus:border-gold-500 focus:outline-none cursor-pointer">
        <option value="">Choose your vibe...</option>
        <optgroup label="Relaxing">
          <option value="acoustic-guitar">Acoustic Bossa Nova</option>
          <option value="stardust">Stardust Meditation</option>
        </optgroup>
        <optgroup label="Focus">
          <option value="flow-state">Flow State</option>
          <option value="morning-clarity">Morning Clarity</option>
        </optgroup>
        <optgroup label="Atmospheric">
          <option value="cosmic">Cosmic Journey</option>
          <option value="noir">Noir Atmosphere</option>
          <option value="sunrise">Golden Sunrise</option>
        </optgroup>
      </select>
    </div>

    <!-- Progress Bar -->
    <div class="px-4 pt-4">
      <div id="music-progress-container" class="h-1.5 bg-navy-700 rounded-full cursor-pointer relative group">
        <div id="music-progress-bar" class="h-full bg-gradient-to-r from-gold-500 to-gold-400 rounded-full transition-all duration-100" style="width: 0%"></div>
        <div id="music-progress-handle" class="absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity cursor-grab" style="left: 0%"></div>
      </div>
      <div class="flex justify-between text-gray-500 text-xs mt-1">
        <span id="music-time-current">0:00</span>
        <span id="music-time-duration">0:00</span>
      </div>
    </div>

    <!-- Playback Controls -->
    <div class="p-4 flex items-center justify-center gap-4">
      <button id="music-play-btn" class="w-14 h-14 rounded-full bg-gold-500 hover:bg-gold-400 text-navy-900 flex items-center justify-center transition transform hover:scale-105 shadow-lg">
        <svg id="music-play-icon" class="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"></path>
        </svg>
        <svg id="music-pause-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 24 24">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
        </svg>
      </button>
    </div>

    <!-- Volume Control -->
    <div class="px-4 pb-4">
      <div class="flex items-center gap-3">
        <button id="music-mute" class="text-gray-400 hover:text-white transition">
          <svg id="music-volume-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072M18.364 5.636a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path>
          </svg>
          <svg id="music-mute-icon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"></path>
          </svg>
        </button>
        <div id="music-volume-container" class="flex-1 h-2 bg-navy-700 rounded-full cursor-pointer relative group">
          <div id="music-volume-bar" class="h-full bg-gradient-to-r from-gold-500 to-gold-400 rounded-full transition-all" style="width: 25%"></div>
          <div id="music-volume-handle" class="absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full shadow-lg cursor-grab" style="left: 25%"></div>
        </div>
        <span id="music-volume-value" class="text-gray-400 text-xs w-8">25%</span>
      </div>
    </div>

    <div class="px-4 pb-3 text-center">
      <p class="text-gray-500 text-xs">Premium ambient soundscapes</p>
    </div>
  </div>

  <!-- Floating Toggle Button -->
  <button id="music-toggle" class="relative bg-navy-900/90 hover:bg-navy-800 backdrop-blur-xl text-white p-4 rounded-full shadow-2xl border border-white/10 transition-all duration-300 hover:scale-110 hover:border-gold-500/50 group" style="pointer-events: auto !important; z-index: 9999 !important;">
    <div id="music-pulse" class="absolute inset-0 rounded-full border-2 border-gold-500/50 animate-ping hidden"></div>
    <svg id="music-note-icon" class="w-6 h-6 text-gold-400 group-hover:text-gold-300 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
    </svg>
    <div id="music-eq-mini" class="absolute inset-0 flex items-center justify-center gap-0.5 hidden">
      <span class="w-1 h-3 bg-gold-400 rounded-full animate-eq-1"></span>
      <span class="w-1 h-4 bg-gold-400 rounded-full animate-eq-2"></span>
      <span class="w-1 h-2 bg-gold-400 rounded-full animate-eq-3"></span>
      <span class="w-1 h-3 bg-gold-400 rounded-full animate-eq-4"></span>
    </div>
    <span id="music-badge" class="absolute -top-1 -right-1 w-3 h-3 bg-gold-500 rounded-full hidden">
      <span class="absolute inset-0 rounded-full bg-gold-500 animate-ping"></span>
    </span>
  </button>

  <!-- Welcome notification -->
  <div id="music-welcome" class="absolute bottom-full left-0 mb-3 hidden opacity-0 transition-opacity duration-500 w-64">
    <div class="bg-navy-800/95 backdrop-blur-xl rounded-xl p-4 shadow-2xl border border-gold-500/20 relative">
      <div class="absolute -bottom-2 left-6 w-4 h-4 bg-navy-800/95 border-r border-b border-gold-500/20 transform rotate-45"></div>
      <div class="flex items-center gap-2 mb-2">
        <div class="w-8 h-8 rounded-full bg-gold-500/20 flex items-center justify-center">
          <svg class="w-4 h-4 text-gold-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
          </svg>
        </div>
        <span class="text-gold-400 font-semibold text-sm">Enhance Your Experience</span>
      </div>
      <p class="text-gray-300 text-xs leading-relaxed mb-3">
        Enable ambient music for an immersive browsing experience.
      </p>
      <div class="flex gap-2">
        <button id="music-welcome-play" class="flex-1 bg-gold-500 hover:bg-gold-400 text-navy-900 text-xs font-semibold py-2 px-3 rounded-lg transition transform hover:scale-105">
          Play Music
        </button>
        <button id="music-welcome-dismiss" class="px-3 py-2 text-gray-400 hover:text-white text-xs rounded-lg border border-white/10 hover:border-white/30 transition">
          Later
        </button>
      </div>
    </div>
  </div>

  <!-- Reminder popup for users who stopped music -->
  <div id="music-reminder" class="absolute bottom-full left-0 mb-3 hidden opacity-0 transition-opacity duration-500 w-56">
    <div class="bg-navy-800/95 backdrop-blur-xl rounded-xl p-3 shadow-2xl border border-gold-500/20 relative">
      <div class="absolute -bottom-2 left-6 w-4 h-4 bg-navy-800/95 border-r border-b border-gold-500/20 transform rotate-45"></div>
      <div class="flex items-center gap-2 mb-2">
        <svg class="w-4 h-4 text-gold-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15.536a5 5 0 001.414 1.414m2.828-9.9a9 9 0 012.828-2.828"></path>
        </svg>
        <span class="text-gray-300 text-xs">Music is paused</span>
      </div>
      <div class="flex gap-2">
        <button id="music-reminder-resume" class="flex-1 bg-gold-500/20 hover:bg-gold-500/30 text-gold-400 text-xs font-semibold py-1.5 px-2 rounded-lg transition">
          Resume
        </button>
        <button id="music-reminder-dismiss" class="px-2 py-1.5 text-gray-500 hover:text-gray-300 text-xs transition">
          Dismiss
        </button>
      </div>
    </div>
  </div>
</div>

<style>
  #music-player.visible { opacity: 1; transform: translateY(0); }
  @keyframes eq-1 { 0%, 100% { height: 4px; } 50% { height: 16px; } }
  @keyframes eq-2 { 0%, 100% { height: 8px; } 50% { height: 20px; } }
  @keyframes eq-3 { 0%, 100% { height: 12px; } 50% { height: 8px; } }
  @keyframes eq-4 { 0%, 100% { height: 6px; } 50% { height: 14px; } }
  .animate-eq-1 { animation: eq-1 0.8s ease-in-out infinite; }
  .animate-eq-2 { animation: eq-2 0.6s ease-in-out infinite 0.1s; }
  .animate-eq-3 { animation: eq-3 0.7s ease-in-out infinite 0.2s; }
  .animate-eq-4 { animation: eq-4 0.5s ease-in-out infinite 0.15s; }
  .visualizer-bar { width: 4px; background: linear-gradient(to top, #f59e0b, #fbbf24); border-radius: 2px; transition: height 0.1s ease; }
  #music-track-select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 1rem; }
  #music-welcome.show { opacity: 1; }
  @keyframes welcome-glow { 0%, 100% { box-shadow: 0 0 20px rgba(245, 158, 11, 0.2); } 50% { box-shadow: 0 0 40px rgba(245, 158, 11, 0.4); } }
  #music-welcome.show > div { animation: welcome-glow 2s ease-in-out infinite; }
  #music-reminder.show { opacity: 1; }
</style>

<script>
(function() {
  'use strict';

  // Version for cache clearing on updates
  const MUSIC_VERSION = '5';
  if (localStorage.getItem('musicVersion') !== MUSIC_VERSION) {
    localStorage.removeItem('musicTrack');
    localStorage.removeItem('musicEnabled');
    localStorage.removeItem('musicWelcomeSeen');
    localStorage.removeItem('userSelectedTrack');
    localStorage.setItem('musicVersion', MUSIC_VERSION);
  }

  // Track definitions with MP3 file paths
  const TRACKS = {
    'acoustic-guitar': {
      name: 'Acoustic Bossa Nova',
      artist: 'Relaxing Vibes',
      file: '/audio/acoustic-guitar-bossa-nova-295307.mp3',
      mood: 'relaxing'
    },
    'stardust': {
      name: 'Stardust Meditation',
      artist: 'Deep Relaxation',
      file: '/audio/stardust-meditation-12702.mp3',
      mood: 'meditative'
    },
    'flow-state': {
      name: 'Flow State',
      artist: 'Focus & Productivity',
      file: '/audio/flow-state-ambient-music-374741.mp3',
      mood: 'focus'
    },
    'morning-clarity': {
      name: 'Morning Clarity',
      artist: 'Fresh Start',
      file: '/audio/morning-clarity-443232.mp3',
      mood: 'uplifting'
    },
    'cosmic': {
      name: 'Cosmic Journey',
      artist: 'Stellar Motivation',
      file: '/audio/cosmic-stellar-journey-motivation-322778.mp3',
      mood: 'epic'
    },
    'noir': {
      name: 'Noir Atmosphere',
      artist: 'Dark Ambiance',
      file: '/audio/noir-alley-415342.mp3',
      mood: 'dark'
    },
    'sunrise': {
      name: 'Golden Sunrise',
      artist: 'New Beginnings',
      file: '/audio/sunrise-337749.mp3',
      mood: 'bright'
    }
  };

  // Intelligent page-to-track mapping based on content type and path
  function getPageTrack() {
    const path = window.location.pathname.toLowerCase();
    const meta = document.querySelector('meta[name="ambient:music"]');

    // If page has explicit meta tag, use that
    if (meta && meta.content && TRACKS[meta.content]) {
      return meta.content;
    }

    // Main pages
    if (path === '/' || path === '/index.html') return 'sunrise';
    if (path.includes('/blog/index') || path === '/blog/' || path === '/blog') return 'sunrise';
    if (path.includes('/privacy')) return 'noir';

    // Blog post categories
    if (path.includes('/blog/posts/')) {
      // AI & Tech articles - focus music
      if (path.includes('ai-') || path.includes('claude') || path.includes('chatgpt') ||
          path.includes('agent') || path.includes('automation') || path.includes('ram-ssd')) {
        return 'flow-state';
      }
      // Health & Fitness - morning clarity
      if (path.includes('bmr') || path.includes('protein') || path.includes('supplement') ||
          path.includes('workout') || path.includes('habit')) {
        return 'morning-clarity';
      }
      // Book reviews - acoustic relaxation
      if (path.includes('book-review')) {
        if (path.includes('dungeon-crawler')) return 'noir';
        if (path.includes('ceo-excellence')) return 'cosmic';
        if (path.includes('brain-rules')) return 'flow-state';
        return 'acoustic-guitar';
      }
      // Productivity & Business
      if (path.includes('morning-routine') || path.includes('ceo')) return 'morning-clarity';
      if (path.includes('fractional') || path.includes('breaking-big-tasks')) return 'flow-state';
      if (path.includes('slop')) return 'noir';

      // Default blog post
      return 'flow-state';
    }

    // Experience pages - cosmic/motivational
    if (path.includes('/experience/')) {
      return 'cosmic';
    }

    // Profile pages - meditative
    if (path.includes('/profiles/')) {
      return 'stardust';
    }

    // Ventures - cosmic/entrepreneurial
    if (path.includes('/ventures/')) {
      return 'cosmic';
    }

    // Default fallback
    return 'sunrise';
  }

  let audio = null;
  let audioContext = null;
  let analyser = null;
  let isPlaying = false;
  let currentTrackId = null;
  let volume = 0.25;
  let animationId = null;

  const player = document.getElementById('music-player');
  if (!player) return;

  const panel = document.getElementById('music-panel');
  const toggleBtn = document.getElementById('music-toggle');
  const playBtn = document.getElementById('music-play-btn');
  const playIcon = document.getElementById('music-play-icon');
  const pauseIcon = document.getElementById('music-pause-icon');
  const trackSelect = document.getElementById('music-track-select');
  const trackName = document.getElementById('music-track-name');
  const trackArtist = document.getElementById('music-track-artist');
  const volumeBar = document.getElementById('music-volume-bar');
  const volumeHandle = document.getElementById('music-volume-handle');
  const volumeContainer = document.getElementById('music-volume-container');
  const volumeValue = document.getElementById('music-volume-value');
  const muteBtn = document.getElementById('music-mute');
  const volumeIcon = document.getElementById('music-volume-icon');
  const muteIcon = document.getElementById('music-mute-icon');
  const visualizer = document.getElementById('music-visualizer');
  const pulse = document.getElementById('music-pulse');
  const noteIcon = document.getElementById('music-note-icon');
  const eqMini = document.getElementById('music-eq-mini');
  const welcomeEl = document.getElementById('music-welcome');
  const welcomePlayBtn = document.getElementById('music-welcome-play');
  const welcomeDismissBtn = document.getElementById('music-welcome-dismiss');
  const reminderEl = document.getElementById('music-reminder');
  const reminderResumeBtn = document.getElementById('music-reminder-resume');
  const reminderDismissBtn = document.getElementById('music-reminder-dismiss');
  const musicBadge = document.getElementById('music-badge');
  const progressContainer = document.getElementById('music-progress-container');
  const progressBar = document.getElementById('music-progress-bar');
  const progressHandle = document.getElementById('music-progress-handle');
  const timeCurrent = document.getElementById('music-time-current');
  const timeDuration = document.getElementById('music-time-duration');

  // Persistence helpers
  function setMusicEnabled(enabled) { localStorage.setItem('musicEnabled', enabled ? 'true' : 'false'); }
  function isMusicEnabled() { return localStorage.getItem('musicEnabled') === 'true'; }
  function setUserTrack(trackId) { localStorage.setItem('userSelectedTrack', trackId); }
  function getUserTrack() { return localStorage.getItem('userSelectedTrack'); }

  // Cross-page playback persistence
  function savePlaybackState() {
    if (audio && isPlaying && currentTrackId) {
      const state = {
        trackId: currentTrackId,
        position: audio.currentTime,
        timestamp: Date.now()
      };
      localStorage.setItem('musicPlaybackState', JSON.stringify(state));
    }
  }

  function getPlaybackState() {
    try {
      const stateStr = localStorage.getItem('musicPlaybackState');
      if (!stateStr) return null;
      const state = JSON.parse(stateStr);
      // Only use state if it's less than 5 seconds old (fresh navigation)
      if (Date.now() - state.timestamp < 5000) {
        return state;
      }
      localStorage.removeItem('musicPlaybackState');
      return null;
    } catch (e) {
      return null;
    }
  }

  function clearPlaybackState() {
    localStorage.removeItem('musicPlaybackState');
  }

  // Save state before leaving page
  window.addEventListener('beforeunload', savePlaybackState);
  // Also save periodically while playing (every 2 seconds)
  setInterval(() => {
    if (isPlaying) savePlaybackState();
  }, 2000);

  function showWelcome() {
    if (localStorage.getItem('musicWelcomeSeen')) return;
    if (musicBadge) musicBadge.classList.remove('hidden');
    setTimeout(() => {
      if (welcomeEl && !isPlaying) {
        welcomeEl.classList.remove('hidden');
        setTimeout(() => welcomeEl.classList.add('show'), 50);
      }
    }, 3000);
  }

  function hideWelcome(permanent = false) {
    if (welcomeEl) {
      welcomeEl.classList.remove('show');
      setTimeout(() => welcomeEl.classList.add('hidden'), 500);
    }
    if (musicBadge) musicBadge.classList.add('hidden');
    if (permanent) localStorage.setItem('musicWelcomeSeen', 'true');
  }

  function showReminder() {
    // Only show if user explicitly stopped music in this session
    if (!sessionStorage.getItem('musicStoppedByUser')) return;
    // Only show once per page load
    if (sessionStorage.getItem('musicReminderShown')) return;
    sessionStorage.setItem('musicReminderShown', 'true');

    setTimeout(() => {
      if (reminderEl && !isPlaying) {
        reminderEl.classList.remove('hidden');
        setTimeout(() => reminderEl.classList.add('show'), 50);
      }
    }, 2000);
  }

  function hideReminder() {
    if (reminderEl) {
      reminderEl.classList.remove('show');
      setTimeout(() => reminderEl.classList.add('hidden'), 500);
    }
    // Clear the stopped flag so reminder doesn't keep showing
    sessionStorage.removeItem('musicStoppedByUser');
  }

  function formatTime(seconds) {
    if (isNaN(seconds)) return '0:00';
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs.toString().padStart(2, '0')}`;
  }

  function initAudio() {
    if (!audio) {
      audio = new Audio();
      audio.loop = true;
      audio.volume = volume;
      audio.crossOrigin = 'anonymous';

      audio.addEventListener('loadedmetadata', () => {
        if (timeDuration) timeDuration.textContent = formatTime(audio.duration);
      });

      audio.addEventListener('timeupdate', () => {
        if (audio.duration) {
          const percent = (audio.currentTime / audio.duration) * 100;
          if (progressBar) progressBar.style.width = `${percent}%`;
          if (progressHandle) progressHandle.style.left = `${percent}%`;
          if (timeCurrent) timeCurrent.textContent = formatTime(audio.currentTime);
        }
      });

      audio.addEventListener('ended', () => {
        // Loop is enabled, but just in case
        audio.currentTime = 0;
        audio.play().catch(() => {});
      });

      audio.addEventListener('error', (e) => {
        console.warn('Audio load error:', e);
      });
    }

    // Set up Web Audio API for visualizer
    if (!audioContext) {
      try {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        analyser = audioContext.createAnalyser();
        analyser.fftSize = 64;
        const source = audioContext.createMediaElementSource(audio);
        source.connect(analyser);
        analyser.connect(audioContext.destination);
      } catch (e) {
        console.warn('Web Audio API not available for visualizer');
      }
    }
  }

  function loadTrack(trackId, startPosition = 0) {
    if (!TRACKS[trackId]) return;

    initAudio();

    const track = TRACKS[trackId];
    currentTrackId = trackId;

    // Update UI
    if (trackName) trackName.textContent = track.name;
    if (trackArtist) trackArtist.textContent = track.artist;
    if (trackSelect) trackSelect.value = trackId;

    // Load the audio file
    audio.src = track.file;

    // Set start position once audio is ready
    if (startPosition > 0) {
      audio.addEventListener('loadedmetadata', function onLoaded() {
        audio.currentTime = Math.min(startPosition, audio.duration - 1);
        audio.removeEventListener('loadedmetadata', onLoaded);
      }, { once: true });
    }

    audio.load();
  }

  function play() {
    if (!currentTrackId) {
      // Determine which track to play
      // Priority: 1. User preference, 2. Page-specific track
      const userTrack = getUserTrack();
      const pageTrack = getPageTrack();
      const trackToPlay = userTrack || pageTrack;
      loadTrack(trackToPlay);
    }

    if (audioContext && audioContext.state === 'suspended') {
      audioContext.resume();
    }

    audio.play().then(() => {
      isPlaying = true;
      setMusicEnabled(true);
      updatePlayButton();
      animateVisualizer();
      hideWelcome(true);
    }).catch((e) => {
      console.warn('Playback failed:', e);
    });
  }

  function pause() {
    if (audio) {
      audio.pause();
    }
    isPlaying = false;
    updatePlayButton();
    if (animationId) {
      cancelAnimationFrame(animationId);
      animationId = null;
    }
    // Mark music as stopped so it doesn't auto-resume on next page
    setMusicEnabled(false);
    clearPlaybackState();
    // Track that user explicitly stopped music (for reminder on next page)
    sessionStorage.setItem('musicStoppedByUser', 'true');
  }

  function togglePlay() {
    isPlaying ? pause() : play();
  }

  function updatePlayButton() {
    if (isPlaying) {
      if (playIcon) playIcon.classList.add('hidden');
      if (pauseIcon) pauseIcon.classList.remove('hidden');
      if (pulse) pulse.classList.remove('hidden');
      if (noteIcon) noteIcon.classList.add('hidden');
      if (eqMini) eqMini.classList.remove('hidden');
    } else {
      if (playIcon) playIcon.classList.remove('hidden');
      if (pauseIcon) pauseIcon.classList.add('hidden');
      if (pulse) pulse.classList.add('hidden');
      if (noteIcon) noteIcon.classList.remove('hidden');
      if (eqMini) eqMini.classList.add('hidden');
    }
  }

  function updateVolumeUI() {
    const percent = volume * 100;
    if (volumeBar) volumeBar.style.width = `${percent}%`;
    if (volumeHandle) volumeHandle.style.left = `${percent}%`;
    if (volumeValue) volumeValue.textContent = `${Math.round(percent)}%`;
    if (volume === 0) {
      if (volumeIcon) volumeIcon.classList.add('hidden');
      if (muteIcon) muteIcon.classList.remove('hidden');
    } else {
      if (volumeIcon) volumeIcon.classList.remove('hidden');
      if (muteIcon) muteIcon.classList.add('hidden');
    }
  }

  function createVisualizerBars() {
    if (!visualizer) return;
    visualizer.innerHTML = '';
    for (let i = 0; i < 32; i++) {
      const bar = document.createElement('div');
      bar.className = 'visualizer-bar';
      bar.style.height = '4px';
      visualizer.appendChild(bar);
    }
  }

  function animateVisualizer() {
    if (!isPlaying || !visualizer) {
      if (animationId) cancelAnimationFrame(animationId);
      return;
    }

    const bars = visualizer.querySelectorAll('.visualizer-bar');

    if (analyser) {
      const dataArray = new Uint8Array(analyser.frequencyBinCount);
      analyser.getByteFrequencyData(dataArray);
      bars.forEach((bar, i) => {
        const value = dataArray[i] || 0;
        bar.style.height = `${Math.max(4, (value / 255) * 60)}px`;
      });
    } else {
      // Fallback animation when Web Audio API isn't available
      bars.forEach((bar, i) => {
        const value = Math.random() * 0.5 + 0.3;
        bar.style.height = `${Math.max(4, value * 40)}px`;
      });
    }

    animationId = requestAnimationFrame(animateVisualizer);
  }

  function bindEvents() {
    if (toggleBtn && panel) {
      toggleBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        panel.classList.toggle('hidden');
        hideWelcome(true);
      });
    }

    // Click outside to close panel
    document.addEventListener('click', (e) => {
      if (panel && !panel.classList.contains('hidden')) {
        if (!panel.contains(e.target) && !toggleBtn.contains(e.target)) {
          panel.classList.add('hidden');
        }
      }
    });

    // Prevent clicks inside panel from closing it
    if (panel) {
      panel.addEventListener('click', (e) => {
        e.stopPropagation();
      });
    }

    if (welcomePlayBtn) {
      welcomePlayBtn.addEventListener('click', () => {
        hideWelcome(true);
        if (panel) panel.classList.remove('hidden');
        play();
      });
    }

    if (welcomeDismissBtn) {
      welcomeDismissBtn.addEventListener('click', () => {
        hideWelcome(true);
        setMusicEnabled(false);
      });
    }

    // Reminder popup events
    if (reminderResumeBtn) {
      reminderResumeBtn.addEventListener('click', () => {
        hideReminder();
        if (panel) panel.classList.remove('hidden');
        play();
      });
    }

    if (reminderDismissBtn) {
      reminderDismissBtn.addEventListener('click', () => {
        hideReminder();
      });
    }

    if (playBtn) playBtn.addEventListener('click', togglePlay);

    if (trackSelect) {
      trackSelect.addEventListener('change', (e) => {
        if (e.target.value) {
          // User explicitly selected a track - save preference
          setUserTrack(e.target.value);
          loadTrack(e.target.value);
          play();
        }
      });
    }

    // Progress bar seek
    if (progressContainer) {
      progressContainer.addEventListener('click', (e) => {
        if (!audio || !audio.duration) return;
        const rect = progressContainer.getBoundingClientRect();
        const percent = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
        audio.currentTime = percent * audio.duration;
      });
    }

    // Volume control
    if (volumeContainer) {
      volumeContainer.addEventListener('click', (e) => {
        const rect = volumeContainer.getBoundingClientRect();
        volume = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
        if (audio) audio.volume = volume;
        setCookie('musicVolume', volume, 365);
        updateVolumeUI();
      });
    }

    if (muteBtn) {
      muteBtn.addEventListener('click', () => {
        if (volume === 0) {
          // Restore saved volume preference, or default to 25%
          const savedVolume = getCookie('musicVolume');
          volume = savedVolume ? parseFloat(decodeURIComponent(savedVolume)) : 0.25;
          // If saved was 0, use default
          if (volume === 0) volume = 0.25;
        } else {
          volume = 0;
        }
        if (audio) audio.volume = volume;
        updateVolumeUI();
      });
    }
  }

  function init() {
    // Check for saved playback state from previous page
    const savedState = getPlaybackState();

    // Get the appropriate track for this page
    const pageTrack = getPageTrack();
    const userTrack = getUserTrack();

    // If we have a saved state from navigation, use that track
    // Otherwise use user preference or page default
    const displayTrack = savedState ? savedState.trackId : (userTrack || pageTrack);

    // Restore saved volume from cookie
    const savedVolume = getCookie('musicVolume');
    if (savedVolume) {
      volume = parseFloat(decodeURIComponent(savedVolume));
      updateVolumeUI();
    }

    // Set the track selector to show appropriate track
    if (trackSelect) trackSelect.value = displayTrack;

    // Update track display
    if (TRACKS[displayTrack]) {
      if (trackName) trackName.textContent = TRACKS[displayTrack].name;
      if (trackArtist) trackArtist.textContent = TRACKS[displayTrack].artist;
    }

    createVisualizerBars();
    bindEvents();

    const musicWasEnabled = isMusicEnabled();
    const userStoppedMusic = sessionStorage.getItem('musicStoppedByUser');

    // If we have a fresh saved state AND music is enabled, resume immediately
    if (savedState && musicWasEnabled) {
      player.classList.add('visible');
      loadTrack(savedState.trackId, savedState.position);
      // Small delay to ensure audio is ready
      setTimeout(() => {
        play();
        clearPlaybackState();
      }, 100);
    } else {
      // Normal startup with slight delay
      setTimeout(() => {
        player.classList.add('visible');
        if (musicWasEnabled) {
          loadTrack(displayTrack);
          play();
        } else if (userStoppedMusic) {
          // User explicitly stopped music - show reminder instead of welcome
          showReminder();
        } else {
          showWelcome();
        }
      }, 500);
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>

<!-- /MUSIC_PLAYER -->

<!-- COOKIE_CONSENT -->
<!-- Cookie Consent Banner -->
<div id="cookie-consent" class="fixed bottom-0 left-0 right-0 z-[100] transform translate-y-full transition-transform duration-500" role="dialog" aria-labelledby="cookie-consent-title" aria-describedby="cookie-consent-description">
  <div class="bg-navy-900/98 backdrop-blur-lg border-t border-white/10 shadow-2xl">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <div class="flex-1">
          <h3 id="cookie-consent-title" class="text-white font-semibold text-lg mb-2">We value your privacy</h3>
          <p id="cookie-consent-description" class="text-gray-400 text-sm leading-relaxed">
            We use cookies to enhance your browsing experience, analyze site traffic, and personalize content.
            By clicking "Accept All", you consent to our use of cookies. You can manage your preferences anytime.
          </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-3 lg:ml-8">
          <button id="cookie-customize" class="px-5 py-2.5 text-gray-300 hover:text-white border border-white/20 hover:border-white/40 rounded-full text-sm font-medium transition">
            Customize
          </button>
          <button id="cookie-reject" class="px-5 py-2.5 text-gray-300 hover:text-white border border-white/20 hover:border-white/40 rounded-full text-sm font-medium transition">
            Reject All
          </button>
          <button id="cookie-accept" class="px-6 py-2.5 bg-gold-500 hover:bg-gold-400 text-navy-900 rounded-full text-sm font-semibold transition transform hover:scale-105">
            Accept All
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Cookie Settings Modal -->
<div id="cookie-modal" class="fixed inset-0 z-[110] hidden" role="dialog" aria-modal="true" aria-labelledby="cookie-modal-title">
  <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" id="cookie-modal-backdrop"></div>
  <div class="fixed inset-0 overflow-y-auto">
    <div class="flex min-h-full items-center justify-center p-4">
      <div class="bg-navy-800 rounded-2xl shadow-2xl max-w-lg w-full border border-white/10 transform transition-all">
        <div class="p-6 border-b border-white/10">
          <div class="flex items-center justify-between">
            <h3 id="cookie-modal-title" class="text-xl font-bold text-white">Cookie Preferences</h3>
            <button id="cookie-modal-close" class="text-gray-400 hover:text-white transition" aria-label="Close modal">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <p class="text-gray-400 text-sm mt-2">Manage your cookie preferences below. Essential cookies are always active as they're necessary for the site to function.</p>
        </div>

        <div class="p-6 space-y-4">
          <!-- Essential Cookies -->
          <div class="flex items-start justify-between p-4 bg-white/5 rounded-xl">
            <div class="flex-1 pr-4">
              <h4 class="text-white font-semibold">Essential Cookies</h4>
              <p class="text-gray-400 text-sm mt-1">Required for basic site functionality like navigation and secure access. Cannot be disabled.</p>
            </div>
            <div class="relative">
              <input type="checkbox" id="cookie-essential" checked disabled class="sr-only">
              <div class="w-11 h-6 bg-gold-500 rounded-full opacity-50 cursor-not-allowed">
                <div class="absolute top-0.5 left-5 w-5 h-5 bg-white rounded-full shadow"></div>
              </div>
            </div>
          </div>

          <!-- Analytics Cookies -->
          <div class="flex items-start justify-between p-4 bg-white/5 rounded-xl">
            <div class="flex-1 pr-4">
              <label for="cookie-analytics" class="text-white font-semibold cursor-pointer">Analytics Cookies</label>
              <p class="text-gray-400 text-sm mt-1">Help us understand how visitors interact with our site. We use Google Analytics and Microsoft Clarity.</p>
            </div>
            <label for="cookie-analytics" class="relative cursor-pointer">
              <input type="checkbox" id="cookie-analytics" class="sr-only peer">
              <div class="w-11 h-6 bg-gray-600 peer-checked:bg-gold-500 rounded-full transition-colors"></div>
              <div class="absolute top-0.5 left-0.5 peer-checked:left-5 w-5 h-5 bg-white rounded-full shadow transition-all"></div>
            </label>
          </div>

          <!-- Marketing Cookies -->
          <div class="flex items-start justify-between p-4 bg-white/5 rounded-xl">
            <div class="flex-1 pr-4">
              <label for="cookie-marketing" class="text-white font-semibold cursor-pointer">Marketing Cookies</label>
              <p class="text-gray-400 text-sm mt-1">Used to track visitors across websites to display relevant ads and measure campaign effectiveness.</p>
            </div>
            <label for="cookie-marketing" class="relative cursor-pointer">
              <input type="checkbox" id="cookie-marketing" class="sr-only peer">
              <div class="w-11 h-6 bg-gray-600 peer-checked:bg-gold-500 rounded-full transition-colors"></div>
              <div class="absolute top-0.5 left-0.5 peer-checked:left-5 w-5 h-5 bg-white rounded-full shadow transition-all"></div>
            </label>
          </div>
        </div>

        <div class="p-6 border-t border-white/10 flex justify-end gap-3">
          <button id="cookie-modal-reject" class="px-5 py-2.5 text-gray-300 hover:text-white border border-white/20 hover:border-white/40 rounded-full text-sm font-medium transition">
            Reject All
          </button>
          <button id="cookie-modal-save" class="px-6 py-2.5 bg-gold-500 hover:bg-gold-400 text-navy-900 rounded-full text-sm font-semibold transition">
            Save Preferences
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /COOKIE_CONSENT -->

<!-- SHARED_SCRIPTS -->
<script>
// ===== COOKIE UTILITIES =====
function getCookie(name) {
  const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
  return match ? match[2] : null;
}

function setCookie(name, value, days) {
  const expires = new Date(Date.now() + days * 864e5).toUTCString();
  document.cookie = name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/; SameSite=Lax';
}

function deleteCookie(name) {
  document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
}

// ===== COOKIE CONSENT MANAGEMENT =====
const CookieConsent = {
  CONSENT_COOKIE: 'cookieConsent',
  CONSENT_VERSION: '1.0',

  getConsent() {
    const consent = getCookie(this.CONSENT_COOKIE);
    if (!consent) return null;
    try {
      return JSON.parse(decodeURIComponent(consent));
    } catch (e) {
      return null;
    }
  },

  setConsent(preferences) {
    const consent = {
      version: this.CONSENT_VERSION,
      timestamp: new Date().toISOString(),
      essential: true, // Always true
      analytics: preferences.analytics || false,
      marketing: preferences.marketing || false
    };
    setCookie(this.CONSENT_COOKIE, JSON.stringify(consent), 365);
    return consent;
  },

  hasConsent() {
    return this.getConsent() !== null;
  },

  hasAnalyticsConsent() {
    const consent = this.getConsent();
    return consent && consent.analytics === true;
  },

  hasMarketingConsent() {
    const consent = this.getConsent();
    return consent && consent.marketing === true;
  },

  showBanner() {
    const banner = document.getElementById('cookie-consent');
    if (banner) {
      banner.classList.remove('translate-y-full');
    }
  },

  hideBanner() {
    const banner = document.getElementById('cookie-consent');
    if (banner) {
      banner.classList.add('translate-y-full');
    }
  },

  showModal() {
    const modal = document.getElementById('cookie-modal');
    if (modal) {
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      // Set checkboxes to current preferences
      const consent = this.getConsent() || { analytics: false, marketing: false };
      const analyticsCheckbox = document.getElementById('cookie-analytics');
      const marketingCheckbox = document.getElementById('cookie-marketing');
      if (analyticsCheckbox) analyticsCheckbox.checked = consent.analytics;
      if (marketingCheckbox) marketingCheckbox.checked = consent.marketing;
    }
  },

  hideModal() {
    const modal = document.getElementById('cookie-modal');
    if (modal) {
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }
  },

  acceptAll() {
    const consent = this.setConsent({ analytics: true, marketing: true });
    this.hideBanner();
    this.hideModal();
    this.applyConsent(consent);
    if (typeof siteAnalytics !== 'undefined') {
      siteAnalytics.trackEvent('cookie_consent', { consent_type: 'accept_all' });
    }
  },

  rejectAll() {
    const consent = this.setConsent({ analytics: false, marketing: false });
    this.hideBanner();
    this.hideModal();
    this.applyConsent(consent);
  },

  savePreferences() {
    const analyticsCheckbox = document.getElementById('cookie-analytics');
    const marketingCheckbox = document.getElementById('cookie-marketing');
    const consent = this.setConsent({
      analytics: analyticsCheckbox ? analyticsCheckbox.checked : false,
      marketing: marketingCheckbox ? marketingCheckbox.checked : false
    });
    this.hideBanner();
    this.hideModal();
    this.applyConsent(consent);
    if (consent.analytics && typeof siteAnalytics !== 'undefined') {
      siteAnalytics.trackEvent('cookie_consent', { consent_type: 'custom', analytics: consent.analytics, marketing: consent.marketing });
    }
  },

  applyConsent(consent) {
    // Dispatch event for analytics.js to listen to
    window.dispatchEvent(new CustomEvent('cookieConsentUpdated', { detail: consent }));
  },

  init() {
    if (!this.hasConsent()) {
      // Show banner after a short delay for better UX
      setTimeout(() => this.showBanner(), 1000);
    } else {
      // Apply existing consent
      this.applyConsent(this.getConsent());
    }
  }
};

// ===== MOBILE MENU =====
function initMobileMenu() {
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const closeMenuBtn = document.getElementById('close-menu');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuOverlay = document.getElementById('menu-overlay');

  if (!mobileMenuBtn || !mobileMenu) return;

  function openMobileMenu() {
    mobileMenu.classList.add('open');
    if (menuOverlay) menuOverlay.classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function closeMobileMenu() {
    mobileMenu.classList.remove('open');
    if (menuOverlay) menuOverlay.classList.remove('open');
    document.body.style.overflow = '';
  }

  mobileMenuBtn.addEventListener('click', openMobileMenu);
  if (closeMenuBtn) closeMenuBtn.addEventListener('click', closeMobileMenu);
  if (menuOverlay) menuOverlay.addEventListener('click', closeMobileMenu);

  // Close menu when clicking a link
  mobileMenu.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', closeMobileMenu);
  });

  // Close on Escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && mobileMenu.classList.contains('open')) {
      closeMobileMenu();
    }
  });
}

// ===== DARK MODE TOGGLE =====
function initDarkMode() {
  const darkModeToggle = document.getElementById('dark-mode-toggle');
  const darkModeToggleMobile = document.getElementById('dark-mode-toggle-mobile');

  // Prevent duplicate initialization
  if (window._darkModeInitialized) return;
  window._darkModeInitialized = true;

  function toggleDarkMode() {
    document.documentElement.classList.toggle('dark');
    const isDark = document.documentElement.classList.contains('dark');
    setCookie('darkMode', isDark, 365);
  }

  if (darkModeToggle) darkModeToggle.addEventListener('click', toggleDarkMode);
  if (darkModeToggleMobile) darkModeToggleMobile.addEventListener('click', toggleDarkMode);
}

// ===== BACK TO TOP =====
function initBackToTop() {
  const backToTop = document.getElementById('back-to-top');
  if (!backToTop) return;

  function updateBackToTop() {
    if (window.scrollY > 500) {
      backToTop.classList.add('visible');
    } else {
      backToTop.classList.remove('visible');
    }
  }

  backToTop.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  window.addEventListener('scroll', updateBackToTop);
}

// ===== SCROLL REVEAL =====
function initScrollReveal() {
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

  document.querySelectorAll('.reveal, .card-hover, .stagger-children').forEach(el => {
    revealObserver.observe(el);
  });
}

// ===== SMOOTH SCROLL =====
function initSmoothScroll() {
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      const href = this.getAttribute('href');
      if (href !== '#') {
        e.preventDefault();
        const target = document.querySelector(href);
        if (target) {
          const headerOffset = 80;
          const elementPosition = target.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.scrollY - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      }
    });
  });
}

// ===== COOKIE CONSENT EVENT LISTENERS =====
function initCookieConsentListeners() {
  // Banner buttons
  const acceptBtn = document.getElementById('cookie-accept');
  const rejectBtn = document.getElementById('cookie-reject');
  const customizeBtn = document.getElementById('cookie-customize');

  if (acceptBtn) acceptBtn.addEventListener('click', () => CookieConsent.acceptAll());
  if (rejectBtn) rejectBtn.addEventListener('click', () => CookieConsent.rejectAll());
  if (customizeBtn) customizeBtn.addEventListener('click', () => {
    CookieConsent.hideBanner();
    CookieConsent.showModal();
  });

  // Modal buttons
  const modalClose = document.getElementById('cookie-modal-close');
  const modalBackdrop = document.getElementById('cookie-modal-backdrop');
  const modalReject = document.getElementById('cookie-modal-reject');
  const modalSave = document.getElementById('cookie-modal-save');

  if (modalClose) modalClose.addEventListener('click', () => CookieConsent.hideModal());
  if (modalBackdrop) modalBackdrop.addEventListener('click', () => CookieConsent.hideModal());
  if (modalReject) modalReject.addEventListener('click', () => CookieConsent.rejectAll());
  if (modalSave) modalSave.addEventListener('click', () => CookieConsent.savePreferences());

  // Footer cookie settings button
  const cookieSettingsBtn = document.getElementById('cookie-settings-btn');
  if (cookieSettingsBtn) cookieSettingsBtn.addEventListener('click', () => CookieConsent.showModal());

  // Note: Cookie toggles are now wrapped in <label> elements, so native browser behavior handles the toggle.
  // No additional JavaScript handlers needed for the toggle switches.
}

// ===== INITIALIZE ALL =====
function initAll() {
  initMobileMenu();
  initDarkMode();
  initBackToTop();
  initScrollReveal();
  initSmoothScroll();
  initCookieConsentListeners();
  CookieConsent.init();
}

// Handle both fresh page load and cases where DOM is already ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initAll);
} else {
  // DOM is already ready, initialize immediately
  initAll();
}

// Expose CookieConsent for external use
window.CookieConsent = CookieConsent;
</script>

<!-- /SHARED_SCRIPTS -->
</body>
</html>
